# -*- coding:utf-8 -*-
from unittest import TestCase, mock

import requests

from dao.dsm_dao import dsm_dao
from dao.task_dao import task_dao
from dao.task_onto_dao import task_dao_onto
from service.Otl_Service import otl_service
from dao.otl_dao import otl_dao
from dao.graph_dao import graph_dao
from dao.knw_dao import knw_dao
import pandas as pd


# test新增本体
from test import MockResponse


class Test_ontology_save(TestCase):
    def setUp(self) -> None:
        self.params_json = {'ontology_name': 'name', 'ontology_des': 'description'}

        # mock otl_dao.get_ontology
        ontology_name_row = []
        column = ['entity', 'edge']
        ontology_name = pd.DataFrame(ontology_name_row, columns=column)
        otl_dao.get_ontology = mock.Mock(return_value=ontology_name)

        # mock otl_dao.insert_Ontology
        ontology_id = 1
        otl_dao.insert_Ontology = mock.Mock(return_value=ontology_id)

    # success
    def test_ontology_save_success(self):
        res = otl_service.ontology_save(self.params_json)
        self.assertEqual(res[0], 200)

    # 本体名称已存在
    def test_ontology_save_name_exists(self):
        # mock otl_dao.get_ontology
        ontology_name_row = [['[]', '[]']]
        column = ['entity', 'edge']
        ontology_name = pd.DataFrame(ontology_name_row, columns=column)
        otl_dao.get_ontology = mock.Mock(return_value=ontology_name)

        res = otl_service.ontology_save(self.params_json)
        self.assertEqual(res[0], 200)

    # 异常
    def test_ontology_save_exception(self):
        otl_dao.insert_Ontology = mock.Mock(return_value=[], side_effect=Exception('database Unusable!'))

        res = otl_service.ontology_save(self.params_json)
        self.assertEqual(res[0], 500)


# test更新本体名
class Test_update_name(TestCase):
    def setUp(self) -> None:
        # parameters
        self.otl_id = 24
        self.params_json = {"ontology_name": "name", "ontology_des": "des"}
        self.flag = "0"
        
        df_row = [
            [24, '2021-10-27 23:12:26', '2021-10-28 04:12:57', 'sdgfd', '', 'available',
             "[{'entity_id': 1, 'colour': '#FFC106', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'gns', 'create_time', 'rev'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '目录'}, {'entity_id': 2, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'create_time', 'editor', 'gns', 'file_type', 'modified_time', 'rev'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 3, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'level'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '章节'}, {'entity_id': 4, 'colour': '#FFC106', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '正文'}, {'entity_id': 5, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'confidence', 'adlabel_kcid', 'kc_topic_tags', 'type_as', 'type_sa', 'type_nw', 'type_kc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '标签'}, {'entity_id': 6, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '解释'}]",
             "[{'edge_id': 1, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 2, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'ds_address': '', 'alias': '解释是'}, {'edge_id': 3, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 4, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 5, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 6, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 7, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'ds_address': '', 'alias': 'A相关B'}, {'edge_id': 8, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'ds_address': '', 'alias': '内容是'}, {'edge_id': 9, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 10, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'ds_address': '', 'alias': '出现于'}]",
             '[]', '[]']]
        df_null_row = []
        column = ['id', 'create_time', 'update_time', 'ontology_name', 'ontology_des', 'otl_status', 'entity', 'edge', 'used_task', 'all_task']
        self.df = pd.DataFrame(df_row, columns = column)
        self.df_null = pd.DataFrame(df_null_row, columns=column)
        otl_dao.getbyid = mock.Mock(return_value=self.df)

        graph_otl = ["graph_name"]
        graph_dao.getdatabyotlid = mock.Mock(return_value=graph_otl)
        
        otl_dao.update_name = mock.Mock(return_value=0)
    
    # success
    def test_update_name_success(self):
        res = otl_service.update_name(self.otl_id, self.params_json, self.flag)
        self.assertEqual(res[0], 200)

        graph_dao.getdatabyotlid = mock.Mock(return_value=[])
        res = otl_service.update_name(self.otl_id, self.params_json, self.flag)
        self.assertEqual(res[0], 200)
        
    # exception
    def test_update_name_exception(self):
        otl_dao.getbyid = mock.Mock(side_effect=Exception("database error"))
        res = otl_service.update_name(self.otl_id, self.params_json, self.flag)
        self.assertEqual(res[0], 500)
        
    # 本体不存在
    def test_update_name_otlid_not_exist(self):
        otl_dao.getbyid = mock.Mock(return_value=self.df_null)
        res = otl_service.update_name(self.otl_id, self.params_json, self.flag)
        self.assertEqual(res[0], 500)

    # 不可编辑
    def test_update_name_can_not_edit(self):
        res = otl_service.update_name(self.otl_id, self.params_json, flag="-1")
        self.assertEqual(res[0], 500)


# test更新本体信息
class Test_update_info(TestCase):
    def setUp(self) -> None:
        # parameters
        self.otlid = 24
        self.params_json = {"ontology_id":"24","entity":[{"colour":"#805A9C","ds_name":"结构化数据","dataType":"structured","extract_type":"standardExtraction","file_type":"csv","task_id":"55","name":"nei1","source_table":[["gns://B4FFFD35301B43B78DAEA4737A364C47/DC6942AC590846C297A52346AE9B27F0/EDEA69091B1B4538BE74AAA9535D0E66","结构化数据/csv/nei1.csv","nei1.csv"]],"source_type":"automatic","properties":[["name","string"],["p","string"],["s","string"]],"properties_index":["name","p","s"],"data_source":"as7","ds_path":"结构化数据","model":"","entity_id":4,"ds_id":"5"},{"colour":"#F0E34F","ds_name":"结构化数据","dataType":"structured","extract_type":"standardExtraction","file_type":"csv","name":"o","task_id":"55","source_table":[["gns://B4FFFD35301B43B78DAEA4737A364C47/DC6942AC590846C297A52346AE9B27F0/0828A7CE101D433690F7D5ADA7AB4DD4","结构化数据/csv/o.csv","o.csv"]],"source_type":"automatic","properties":[["name","string"],["o","string"]],"properties_index":["name","o"],"data_source":"as7","ds_path":"结构化数据","model":"","entity_id":6,"ds_id":"4"},{"colour":"#5C539B","ds_name":"结构化数据","dataType":"structured","extract_type":"standardExtraction","file_type":"csv","name":"s","task_id":"55","source_table":[["gns://B4FFFD35301B43B78DAEA4737A364C47/DC6942AC590846C297A52346AE9B27F0/2590BB8A10904D6EA3B65ADE23CED0BA","结构化数据/csv/s.csv","s.csv"]],"source_type":"automatic","properties":[["name","string"],["s","string"]],"properties_index":["name","s"],"data_source":"as7","ds_path":"结构化数据","model":"","entity_id":1,"ds_id":"4"}],"edge":[],"used_task":[1,23],"flag":"nextstep"}
        self.flag = "-1"
        
        df_row = [
            [24, '2021-10-27 23:12:26', '2021-10-28 04:12:57', 'sdgfd', '', 'available',
             "[{'entity_id': 1, 'colour': '#FFC106', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'gns', 'create_time', 'rev'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '目录'}, {'entity_id': 2, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'create_time', 'editor', 'gns', 'file_type', 'modified_time', 'rev'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 3, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'level'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '章节'}, {'entity_id': 4, 'colour': '#FFC106', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '正文'}, {'entity_id': 5, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'confidence', 'adlabel_kcid', 'kc_topic_tags', 'type_as', 'type_sa', 'type_nw', 'type_kc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '标签'}, {'entity_id': 6, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '解释'}]",
             "[{'edge_id': 1, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 2, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'ds_address': '', 'alias': '解释是'}, {'edge_id': 3, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 4, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 5, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 6, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 7, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'ds_address': '', 'alias': 'A相关B'}, {'edge_id': 8, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'ds_address': '', 'alias': '内容是'}, {'edge_id': 9, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 10, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'ds_address': '', 'alias': '出现于'}]",
             '[]', '[]']]
        df_null_row = []
        columns = ['id', 'create_time', 'update_time', 'ontology_name', 'ontology_des', 'otl_status', 'entity', 'edge', 'used_task', 'all_task']
        df = pd.DataFrame(df_row, columns=columns)
        self.df_null = pd.DataFrame(df_null_row, columns=columns)
        otl_dao.getbyid = mock.Mock(return_value=df)

        all_data_row = []
        all_data_running_row = [
            [18, '24', 'account', 'table', '2021-11-18 22:45:56',
             '2021-11-19 11:45:56', 'running', 'efd0e1e6-db66-4d7c-ba86-674bb20fcaf4',
             "{'entity_list': [['account', '']], 'entity_property_dict': [{'entity': 'account', 'property': [['name', 'string'], ['id', 'string'], ['passwd', 'string'], ['email', 'string'], ['type', 'string'], ['desc', 'string'], ['status', 'string'], ['uuid', 'string'], ['expire_time', 'datetime'], ['create_time', 'datetime'], ['app_id', 'string'], ['pass_st', 'datetime'], ['pass_ct', 'string'], ['locked_dur', 'string'], ['pass_len', 'string'], ['pass_dur', 'string'], ['activation', 'string']]}], 'entity_relation_set': [], 'entity_main_table_dict': [{'entity': 'account', 'main_table': ['account']}], 'relation_main_table_dict': [], 'relation_property_dict': [], 'extract_type': '标准抽取'}",
             "[['account', 'anydata', 'msql', 'success', 'mysql']]", '9', ''],
            [19, '24', 'keywords2.csv', 'csv', '2021-11-19 00:28:41',
             '2021-11-19 13:28:45', 'running', '68ae236e-01e0-4d9b-baf4-c3c246b3ddf4',
             "{'entity_list': [['keywords2', '']], 'entity_property_dict': [{'entity': 'keywords2', 'property': [['name', 'string']]}], 'entity_relation_set': [], 'entity_main_table_dict': [{'entity': 'keywords2', 'main_table': [['gns://66C055CA4C174BED938718B7E2883D76/AAC72632E754482E9B1D24AB6389A2FD', 'keywords2.csv', 'test/keywords2.csv']]}], 'relation_main_table_dict': [], 'relation_property_dict': [], 'extract_type': '标准抽取'}",
             "[['gns://66C055CA4C174BED938718B7E2883D76/AAC72632E754482E9B1D24AB6389A2FD', 'keywords2.csv', 'test/keywords2.csv', '1的副本', 'success', 'csv']]",
             '8', 'csv']]
        columns = ['task_id', 'ontology_id', 'task_name', 'task_type', 'create_time', 'finished_time', 'task_status', 'celery_task_id', 'result', 'file_list', 'ds_id', 'postfix']
        all_data = pd.DataFrame(all_data_row, columns=columns)
        self.all_data_running = pd.DataFrame(all_data_running_row, columns=columns)
        task_dao_onto.get_all_by_otlid = mock.Mock(return_value=all_data)

        graph_dao.getdatabyotlid = mock.Mock(return_value=[])

        otl_dao.update_info = mock.Mock(return_value=0)
    
    # success
    def test_update_info_success(self):
        res = otl_service.update_info(self.otlid, self.params_json, self.flag)
        self.assertEqual(res[0], 200)

        graph_dao.getdatabyotlid = mock.Mock(return_value=["graph_name"])
        res = otl_service.update_info(self.otlid, self.params_json, flag="0")
        self.assertEqual(res[0], 200)

    # exception
    def test_update_info_exception(self):
        otl_dao.getbyid = mock.Mock(side_effect=Exception("database error"))
        res = otl_service.update_info(self.otlid, self.params_json, self.flag)
        self.assertEqual(res[0], 500)

    # 有正在运行的任务
    def test_update_info_runnig_task(self):
        task_dao_onto.get_all_by_otlid = mock.Mock(return_value=self.all_data_running)
        
        res = otl_service.update_info(self.otlid, self.params_json, self.flag)
        self.assertEqual(res[0], 500)

    # 本体不存在
    def test_update_info_ontology_not_exist(self):
        otl_dao.getbyid = mock.Mock(return_value=self.df_null)
        res = otl_service.update_info(self.otlid, self.params_json, self.flag)
        self.assertEqual(res[0], 500)
        
    # 不可编辑
    def test_update_info_edit_used(self):
        graph_dao.getdatabyotlid = mock.Mock(return_value=["graph_name"])
        res = otl_service.update_info(self.otlid, self.params_json, self.flag)
        self.assertEqual(res[0], 500)
    

class Test_getall(TestCase):
    def setUp(self) -> None:
        # mock otl_dao.getCount
        otl_dao.getCount = mock.Mock(return_value=43)
        ret_10row = [
            [11, '2022-06-16 12:57:04', '2022-08-05 10:25:41', 'test2', '', 'available',
             "[{'entity_id': 1, 'colour': '#D9534C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'test_newname', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string'], ['new_prop', 'string'], ['new_prop2', 'boolean'], ['new_prop3', 'double']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'test'}, {'entity_id': 2, 'colour': '#ECB763', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'test2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'test2'}, {'entity_id': 3, 'colour': '#6D372A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '105', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '105'}, {'entity_id': 4, 'colour': '#3641D3', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '106', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '106'}, {'entity_id': 5, 'colour': '#185DE7', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '108', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '108'}, {'entity_id': 7, 'colour': '#791A75', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '1', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '1'}, {'entity_id': 8, 'colour': '#E4E1C0', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '2'}, {'entity_id': 9, 'colour': '#8EA897', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '3', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '3'}, {'entity_id': 10, 'colour': '#EBFE0E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '4'}, {'entity_id': 11, 'colour': '#554B6C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '5', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '5'}, {'entity_id': 13, 'colour': '#349786', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '7', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '7'}, {'entity_id': 14, 'colour': '#5B4626', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '8', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '8'}, {'entity_id': 15, 'colour': '#8B0EE9', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'c108', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'c108'}]",
             "[{'edge_id': 1, 'colour': '#91C073', 'ds_name': '', 'dataType': '', 'ds_id': '', 'extract_type': '', 'name': 'test2_test_test', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['test2', 'test2_test_test', 'test_newname'], 'ds_address': '', 'alias': 'test2_test_test'}, {'edge_id': 2, 'colour': '#F1959C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': 'c106_2_105', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['106', 'c106_2_105', '105'], 'ds_address': '', 'alias': 'c106_2_105'}, {'edge_id': 3, 'colour': '#0603D8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': '1_2_2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['1', '1_2_2', '2'], 'ds_address': '', 'alias': '1_2_2'}, {'edge_id': 4, 'colour': '#B71EDF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': '3_2_2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['3', '3_2_2', '2'], 'ds_address': '', 'alias': '3_2_2'}, {'edge_id': 5, 'colour': '#CB5B65', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': '3_2_4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['3', '3_2_4', '4'], 'ds_address': '', 'alias': '3_2_4'}, {'edge_id': 6, 'colour': '#4B528E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': '5_2_4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['5', '5_2_4', '4'], 'ds_address': '', 'alias': '5_2_4'}]",
             '[]', '[]'], [12, '2022-06-16 13:15:40', '2022-06-16 15:18:24', 'testgyz', '', 'available',
                           "[{'entity_id': 1, 'colour': '#5889C4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'testgyz2'}, {'entity_id': 2, 'colour': '#5889C4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz3', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'testgyz3'}, {'entity_id': 3, 'colour': '#5F81D8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'testgyz4'}, {'entity_id': 4, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '目录'}, {'entity_id': 5, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'editor'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 6, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '章节'}, {'entity_id': 7, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '正文'}, {'entity_id': 8, 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '标签'}, {'entity_id': 9, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '解释'}, {'entity_id': 10, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_desc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '主题'}, {'entity_id': 11, 'colour': '#50A06A', 'ds_name': 'as结构化', 'dataType': 'structured', 'data_source': 'as7', 'ds_path': 'DataSet', 'ds_id': '2', 'extract_type': 'standardExtraction', 'name': 'customer', 'source_table': [['gns://DA5596D930134D7B8BBB230BF9D4A0D6/5EA358D933B84F8B8A98C52F166E7691/FEE5F1BEEE834055905B0CB2759EC523', 'customer.csv', 'DataSet/POC数据验证/customer.csv']], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subindustry_id', 'string'], ['industry_id', 'string']], 'file_type': 'csv', 'task_id': '5', 'properties_index': ['name'], 'model': '', 'ds_address': 'https://10.240.0.133', 'alias': 'customer'}]",
                           "[{'edge_id': 1, 'colour': '#3A4673', 'ds_name': '', 'dataType': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz4_2_testgyz2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['testgyz4', 'testgyz4_2_testgyz2', 'testgyz2'], 'ds_address': '', 'alias': 'testgyz4_2_testgyz2'}, {'edge_id': 2, 'colour': '#F0E34F', 'ds_name': '', 'dataType': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz3_2_testgyz4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['testgyz3', 'testgyz3_2_testgyz4', 'testgyz4'], 'ds_address': '', 'alias': 'testgyz3_2_testgyz4'}, {'edge_id': 3, 'colour': '#50A06A', 'ds_name': '', 'dataType': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz4_1_testgyz2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['testgyz4', 'testgyz4_1_testgyz2', 'testgyz2'], 'ds_address': '', 'alias': 'testgyz4_2_testgyz2'}, {'edge_id': 4, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 5, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'ds_address': '', 'alias': '解释是'}, {'edge_id': 6, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 7, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 8, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 9, 'colour': '#CDDC39', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 10, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'ds_address': '', 'alias': 'A相关B'}, {'edge_id': 11, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'ds_address': '', 'alias': '内容是'}, {'edge_id': 12, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 13, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 14, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 15, 'colour': '#FFC106', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document'], 'ds_address': '', 'alias': '关联'}]",
                           '[5]', '[5]'], [13, '2022-06-16 15:13:21', '2022-06-16 15:13:21', 'ljk', '', 'available',
                                           "[{'entity_id': 1, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '目录'}, {'entity_id': 2, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'editor'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 3, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '章节'}, {'entity_id': 4, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '正文'}, {'entity_id': 5, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '标签'}, {'entity_id': 6, 'colour': '#019688', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '解释'}, {'entity_id': 7, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_desc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '主题'}]",
                                           "[{'edge_id': 1, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 2, 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'ds_address': '', 'alias': '解释是'}, {'edge_id': 3, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 4, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 5, 'colour': '#019688', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 6, 'colour': '#00BDD4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 7, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'ds_address': '', 'alias': 'A相关B'}, {'edge_id': 8, 'colour': '#CDDC39', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'ds_address': '', 'alias': '内容是'}, {'edge_id': 9, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 10, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 11, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 12, 'colour': '#019688', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document'], 'ds_address': '', 'alias': '关联'}]",
                                           '[]', '[]'],
            [16, '2022-06-16 16:53:11', '2022-06-16 16:53:11', '获取本体状态_可用_仅包含任务预测出的点_1655369591', '', 'pending', '[]',
             '[]', '[]', '[]'],
            [17, '2022-06-16 16:53:11', '2022-06-16 16:53:11', '获取本体状态_可用_仅包含任务预测出的点1_1655369591', '', 'pending', '[]',
             '[]', '[]', '[]'],
            [18, '2022-06-16 16:53:13', '2022-06-16 16:53:13', '获取本体状态_编辑中_1655369592', '', 'pending', '[]', '[]', '[]',
             '[]'],
            [19, '2022-06-16 16:53:13', '2022-06-16 16:53:13', '本体_测试获取本体状态_1655369593', '', 'pending', '[]', '[]',
             '[]', '[]'],
            [20, '2022-06-16 16:53:15', '2022-06-16 16:53:15', '查询本体库10', '', 'pending', '[]', '[]', '[]', '[]'],
            [21, '2022-06-16 16:53:16', '2022-06-16 16:53:16', '查询本体库11', '', 'pending', '[]', '[]', '[]', '[]'],
            [22, '2022-06-16 16:53:16', '2022-06-16 16:53:16', '查询本体库12', '', 'pending', '[]', '[]', '[]', '[]']]
        ret_43row = [
            [46, '2022-06-16 16:53:24', '2022-06-16 16:53:24', '查询本体库126', '', 'pending', '[]', '[]', '[]', '[]'],
            [47, '2022-06-16 16:53:25', '2022-06-16 16:53:25', '查询本体库127', '', 'pending', '[]', '[]', '[]', '[]'],
            [48, '2022-06-16 16:53:25', '2022-06-16 16:53:25', '查询本体库128', '', 'pending', '[]', '[]', '[]', '[]'],
            [49, '2022-06-16 16:53:25', '2022-06-16 16:53:25', '查询本体库129', '', 'pending', '[]', '[]', '[]', '[]'],
            [50, '2022-06-16 16:53:26', '2022-06-16 16:53:26', '查询本体库130', '', 'pending', '[]', '[]', '[]', '[]'],
            [51, '2022-06-16 16:53:26', '2022-06-16 16:53:26', '查询本体库131', '', 'pending', '[]', '[]', '[]', '[]'],
            [52, '2022-06-16 16:53:26', '2022-06-16 16:53:26', '查询本体库132', '', 'pending', '[]', '[]', '[]', '[]'],
            [53, '2022-06-16 16:53:27', '2022-06-16 16:53:27', '查询本体库133', '', 'pending', '[]', '[]', '[]', '[]'],
            [54, '2022-06-16 16:53:27', '2022-06-16 16:53:27', '查询本体库134', '', 'pending', '[]', '[]', '[]', '[]'],
            [55, '2022-06-16 16:53:28', '2022-06-16 16:53:28', '查询本体库135', '', 'pending', '[]', '[]', '[]', '[]'],
            [56, '2022-06-16 16:53:28', '2022-06-16 16:53:28', '查询本体库136', '', 'pending', '[]', '[]', '[]', '[]'],
            [57, '2022-06-16 16:53:28', '2022-06-16 16:53:28', '查询本体库137', '', 'pending', '[]', '[]', '[]', '[]'],
            [58, '2022-06-16 16:53:29', '2022-06-16 16:53:29', '查询本体库138', '', 'pending', '[]', '[]', '[]', '[]'],
            [59, '2022-06-16 16:53:29', '2022-06-16 16:53:29', '查询本体库139', '', 'pending', '[]', '[]', '[]', '[]'],
            [60, '2022-06-16 16:53:30', '2022-06-16 16:53:30', '查询本体库140', '', 'pending', '[]', '[]', '[]', '[]'],
            [61, '2022-06-16 16:53:30', '2022-06-16 16:53:30', '查询本体库141', '', 'pending', '[]', '[]', '[]', '[]'],
            [62, '2022-06-16 16:53:30', '2022-06-16 16:53:30', '查询本体库142', '', 'pending', '[]', '[]', '[]', '[]'],
            [63, '2022-06-16 16:53:31', '2022-06-16 16:53:31', '查询本体库143', '', 'pending', '[]', '[]', '[]', '[]'],
            [64, '2022-06-16 16:53:31', '2022-06-16 16:53:31', '查询本体库144', '', 'pending', '[]', '[]', '[]', '[]'],
            [65, '2022-06-16 16:53:31', '2022-06-16 16:53:31', '查询本体库145', '', 'pending', '[]', '[]', '[]', '[]'],
            [66, '2022-06-16 16:53:32', '2022-06-16 16:53:32', '查询本体库146', '', 'pending', '[]', '[]', '[]', '[]'],
            [67, '2022-06-16 16:53:32', '2022-06-16 16:53:32', '查询本体库147', '', 'pending', '[]', '[]', '[]', '[]'],
            [68, '2022-06-16 16:53:32', '2022-06-16 16:53:32', '查询本体库148', '', 'pending', '[]', '[]', '[]', '[]'],
            [69, '2022-06-16 16:53:33', '2022-06-16 16:53:33', '查询本体库149', '', 'pending', '[]', '[]', '[]', '[]'],
            [70, '2022-06-16 16:53:36', '2022-06-16 16:53:36', 'test_task_over_3', '', 'pending', '[]', '[]', '[]',
             '[]'],
            [71, '2022-06-16 16:53:37', '2022-06-16 16:53:37', 'test_otltask_test1', '', 'pending', '[]', '[]', '[]',
             '[]'],
            [72, '2022-06-16 16:53:39', '2022-06-16 16:53:39', 'test_delete_otltask', '', 'pending', '[]', '[]', '[]',
             '[]'],
            [73, '2022-06-16 16:53:39', '2022-06-16 16:53:39', 'test_otltask_exitnotsave_p1', '', 'pending', '[]', '[]',
             '[]', '[]'],
            [74, '2022-06-16 16:53:39', '2022-06-16 16:53:39', 'test_otltask_exitnotsave', '', 'pending', '[]', '[]',
             '[]', '[]'],
            [75, '2022-06-16 16:53:40', '2022-06-16 16:53:40', 'test_otltask_gettaskfiles_1655369385', '', 'pending',
             '[]', '[]', '[]', '[]'],
            [76, '2022-06-16 16:53:48', '2022-06-16 16:53:48', 'test_otltask_gettaskinfo', '', 'pending', '[]', '[]',
             '[]', '[]'],
            [77, '2022-06-16 16:53:50', '2022-06-16 16:53:50', 'test_otltask_save_ontologyname_repeat_creat', '',
             'pending', '[]', '[]', '[]', '[]'],
            [78, '2022-06-16 16:53:50', '2022-06-16 16:53:50', 'test_otltask_save_ontologyname_repeat_edit', '',
             'pending', '[]', '[]', '[]', '[]'],
            [79, '2022-06-16 16:53:51', '2022-06-16 16:53:51', 'otltask_saveontology_1663_1655369385', '', 'pending',
             '[]', '[]', '[]', '[]'],
            [80, '2022-06-16 16:53:51', '2022-06-16 16:53:51', 'test_otl_status', '', 'pending', '[]', '[]', '[]',
             '[]'], [81, '2022-06-16 16:53:59', '2022-06-16 16:54:00', 'test_otltask_for_edit',
                     'Aa中文123___1234567890123456789012345678901234567890Aa中文123___1234567890123456789012345678901234567890Aa中文123___1234567890123456789012345678901234567890',
                     'pending', '[]', '[]', '[]', '[]'],
            [82, '2022-06-16 16:54:06', '2022-06-16 16:54:06', 'A', '', 'pending', '[]', '[]', '[]', '[]'],
            [83, '2022-06-16 16:54:06', '2022-06-16 16:54:06', 'a', '', 'pending', '[]', '[]', '[]', '[]'],
            [84, '2022-06-16 16:54:06', '2022-06-16 16:54:06', '123', '', 'pending', '[]', '[]', '[]', '[]'],
            [85, '2022-06-16 16:54:06', '2022-06-16 16:54:06', '中文', '', 'pending', '[]', '[]', '[]', '[]'],
            [86, '2022-06-16 16:54:06', '2022-06-16 16:54:06', '_', '', 'pending', '[]', '[]', '[]', '[]'],
            [87, '2022-06-16 16:54:06', '2022-06-16 16:54:06', 'Aa中文123___1234567890123456789012345678901234567890', '',
             'pending', '[]', '[]', '[]', '[]'],
            [88, '2022-06-16 16:54:06', '2022-06-16 16:54:06', 'test_otltask_for_create_des82971', '', 'pending', '[]',
             '[]', '[]', '[]']]
        column = ['id', 'create_time', 'update_time', 'ontology_name', 'ontology_des', 'otl_status', 'entity',
       'edge', 'used_task', 'all_task']
        self.ret_firstpage = pd.DataFrame(ret_10row, columns=column)
        self.ret_all = pd.DataFrame(ret_43row, columns=column)

        task_in_table_row = []
        column = ['task_id', 'ontology_id', 'task_name', 'task_type',
       'create_time', 'finished_time', 'task_status', 'celery_task_id',
       'result', 'file_list', 'ds_id', 'postfix']
        self.task_in_table = pd.DataFrame(task_in_table_row, columns=column)

        # mock knw_dao.get_graph_by_knw_id
        column = ['graph_id']
        row = [[4], [37], [38]]
        ret_knw_dao_get_graph_by_knw_id = pd.DataFrame(row, columns=column)
        knw_dao.get_graph_by_knw_id = mock.Mock(return_value=ret_knw_dao_get_graph_by_knw_id)

        # mock graph_dao.get_name_and_otl_by_id
        column = ['graph_name', 'graph_otl']
        row = [['dddd', '[39]'], ['合同', '[32]'], ['文档_nebula', '[33]']]
        ret_graph_dao_get_name_and_otl_by_id = pd.DataFrame(row, columns=column)
        graph_dao.get_name_and_otl_by_id = mock.Mock(return_value=ret_graph_dao_get_name_and_otl_by_id)

        # mock otl_dao.getbyids
        column = ['id', 'create_user', 'create_time', 'update_user', 'update_time',
       'ontology_name', 'ontology_des', 'otl_status', 'entity', 'edge',
       'used_task', 'all_task']
        row = [[39, '853ba1db-4e37-11eb-a57d-0242ac190002',
        '2022-09-22 10:32:25', '853ba1db-4e37-11eb-a57d-0242ac190002',
        '2022-09-22 10:32:33', 'dddd', '', 'available',
        "[{'entity_id': 1, 'colour': '#2A908F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'e1', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'e1'}]",
        '[]', '[]', '[]']]
        ret_otl_dao_getbyids = pd.DataFrame(row, columns=column)
        otl_dao.getbyids = mock.Mock(return_value=ret_otl_dao_getbyids)

        # mock task_dao_onto.get_all_by_otlid
        task_dao_onto.get_all_by_otlid = mock.Mock(return_value=self.task_in_table)

    # success
    def test_getall_success(self):
        # 查询第一页
        # mock otl_dao.getall
        otl_dao.getall = mock.Mock(return_value=self.ret_firstpage)
        args = {'page': '1', 'size': '10', 'order': 'descend', 'timestamp': '1637053016390', 'knw_id': '1'}
        args["res_list"] = []
        res = otl_service.getall(args)
        self.assertEqual(res[0], 200)

        # 查询全部
        # mock otl_dao.getall
        otl_dao.getall = mock.Mock(return_value=self.ret_all)
        args = {'page': '-1', 'size': '10', 'order': 'descend', 'timestamp': '1637053016390', 'knw_id': '1'}
        args["res_list"] = []
        res = otl_service.getall(args)
        self.assertEqual(res[0], 200)

    # 异常
    def test_getall_exception(self):
        # mock otl_dao.getall
        otl_dao.getall = mock.Mock(return_value=[], side_effect=Exception('database Unusable!'))
        args = {'page': '1', 'size': '10', 'order': 'descend', 'timestamp': '1637053016390', 'knw_id': '1'}
        res = otl_service.getall(args)
        self.assertEqual(res[0], 500)


# test模糊查询
class Test_getbyotlname(TestCase):
    def setUp(self) -> None:
        self.otlid = ""
        # self.args = {'otlname': '', 'otl_status': 'all', 'page': '1', 'size': '10', 'order': 'ascend', 'timestamp': '1637201113677'}

        # mock otl_dao.getCount
        otl_dao.getCount = mock.Mock(return_value=44)
        # mock otl_dao.getall
        ret_row = [
            [11, '2022-06-16 12:57:04', '2022-08-05 10:25:41', 'test2', '', 'available',
             "[{'entity_id': 1, 'colour': '#D9534C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'test_newname', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string'], ['new_prop', 'string'], ['new_prop2', 'boolean'], ['new_prop3', 'double']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'test'}, {'entity_id': 2, 'colour': '#ECB763', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'test2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'test2'}, {'entity_id': 3, 'colour': '#6D372A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '105', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '105'}, {'entity_id': 4, 'colour': '#3641D3', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '106', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '106'}, {'entity_id': 5, 'colour': '#185DE7', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '108', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '108'}, {'entity_id': 7, 'colour': '#791A75', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '1', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '1'}, {'entity_id': 8, 'colour': '#E4E1C0', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '2'}, {'entity_id': 9, 'colour': '#8EA897', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '3', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '3'}, {'entity_id': 10, 'colour': '#EBFE0E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '4'}, {'entity_id': 11, 'colour': '#554B6C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '5', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '5'}, {'entity_id': 13, 'colour': '#349786', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '7', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '7'}, {'entity_id': 14, 'colour': '#5B4626', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '8', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '8'}, {'entity_id': 15, 'colour': '#8B0EE9', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'c108', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'c108'}]",
             "[{'edge_id': 1, 'colour': '#91C073', 'ds_name': '', 'dataType': '', 'ds_id': '', 'extract_type': '', 'name': 'test2_test_test', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['test2', 'test2_test_test', 'test_newname'], 'ds_address': '', 'alias': 'test2_test_test'}, {'edge_id': 2, 'colour': '#F1959C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': 'c106_2_105', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['106', 'c106_2_105', '105'], 'ds_address': '', 'alias': 'c106_2_105'}, {'edge_id': 3, 'colour': '#0603D8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': '1_2_2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['1', '1_2_2', '2'], 'ds_address': '', 'alias': '1_2_2'}, {'edge_id': 4, 'colour': '#B71EDF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': '3_2_2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['3', '3_2_2', '2'], 'ds_address': '', 'alias': '3_2_2'}, {'edge_id': 5, 'colour': '#CB5B65', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': '3_2_4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['3', '3_2_4', '4'], 'ds_address': '', 'alias': '3_2_4'}, {'edge_id': 6, 'colour': '#4B528E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': '5_2_4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['5', '5_2_4', '4'], 'ds_address': '', 'alias': '5_2_4'}]",
             '[]', '[]'], [12, '2022-06-16 13:15:40', '2022-06-16 15:18:24', 'testgyz', '', 'available',
                           "[{'entity_id': 1, 'colour': '#5889C4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'testgyz2'}, {'entity_id': 2, 'colour': '#5889C4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz3', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'testgyz3'}, {'entity_id': 3, 'colour': '#5F81D8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'testgyz4'}, {'entity_id': 4, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '目录'}, {'entity_id': 5, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'editor'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 6, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '章节'}, {'entity_id': 7, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '正文'}, {'entity_id': 8, 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '标签'}, {'entity_id': 9, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '解释'}, {'entity_id': 10, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_desc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '主题'}, {'entity_id': 11, 'colour': '#50A06A', 'ds_name': 'as结构化', 'dataType': 'structured', 'data_source': 'as7', 'ds_path': 'DataSet', 'ds_id': '2', 'extract_type': 'standardExtraction', 'name': 'customer', 'source_table': [['gns://DA5596D930134D7B8BBB230BF9D4A0D6/5EA358D933B84F8B8A98C52F166E7691/FEE5F1BEEE834055905B0CB2759EC523', 'customer.csv', 'DataSet/POC数据验证/customer.csv']], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subindustry_id', 'string'], ['industry_id', 'string']], 'file_type': 'csv', 'task_id': '5', 'properties_index': ['name'], 'model': '', 'ds_address': 'https://10.240.0.133', 'alias': 'customer'}]",
                           "[{'edge_id': 1, 'colour': '#3A4673', 'ds_name': '', 'dataType': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz4_2_testgyz2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['testgyz4', 'testgyz4_2_testgyz2', 'testgyz2'], 'ds_address': '', 'alias': 'testgyz4_2_testgyz2'}, {'edge_id': 2, 'colour': '#F0E34F', 'ds_name': '', 'dataType': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz3_2_testgyz4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['testgyz3', 'testgyz3_2_testgyz4', 'testgyz4'], 'ds_address': '', 'alias': 'testgyz3_2_testgyz4'}, {'edge_id': 3, 'colour': '#50A06A', 'ds_name': '', 'dataType': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz4_1_testgyz2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['testgyz4', 'testgyz4_1_testgyz2', 'testgyz2'], 'ds_address': '', 'alias': 'testgyz4_2_testgyz2'}, {'edge_id': 4, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 5, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'ds_address': '', 'alias': '解释是'}, {'edge_id': 6, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 7, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 8, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 9, 'colour': '#CDDC39', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 10, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'ds_address': '', 'alias': 'A相关B'}, {'edge_id': 11, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'ds_address': '', 'alias': '内容是'}, {'edge_id': 12, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 13, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 14, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 15, 'colour': '#FFC106', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document'], 'ds_address': '', 'alias': '关联'}]",
                           '[5]', '[5]'], [13, '2022-06-16 15:13:21', '2022-06-16 15:13:21', 'ljk', '', 'available',
                                           "[{'entity_id': 1, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '目录'}, {'entity_id': 2, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'editor'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 3, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '章节'}, {'entity_id': 4, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '正文'}, {'entity_id': 5, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '标签'}, {'entity_id': 6, 'colour': '#019688', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '解释'}, {'entity_id': 7, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_desc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '主题'}]",
                                           "[{'edge_id': 1, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 2, 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'ds_address': '', 'alias': '解释是'}, {'edge_id': 3, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 4, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 5, 'colour': '#019688', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 6, 'colour': '#00BDD4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 7, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'ds_address': '', 'alias': 'A相关B'}, {'edge_id': 8, 'colour': '#CDDC39', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'ds_address': '', 'alias': '内容是'}, {'edge_id': 9, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 10, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 11, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 12, 'colour': '#019688', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document'], 'ds_address': '', 'alias': '关联'}]",
                                           '[]', '[]'],
            [16, '2022-06-16 16:53:11', '2022-06-16 16:53:11', '获取本体状态_可用_仅包含任务预测出的点_1655369591', '', 'pending', '[]',
             '[]', '[]', '[]'],
            [17, '2022-06-16 16:53:11', '2022-06-16 16:53:11', '获取本体状态_可用_仅包含任务预测出的点1_1655369591', '', 'pending', '[]',
             '[]', '[]', '[]'],
            [18, '2022-06-16 16:53:13', '2022-06-16 16:53:13', '获取本体状态_编辑中_1655369592', '', 'pending', '[]', '[]', '[]',
             '[]'],
            [19, '2022-06-16 16:53:13', '2022-06-16 16:53:13', '本体_测试获取本体状态_1655369593', '', 'pending', '[]', '[]',
             '[]', '[]'],
            [20, '2022-06-16 16:53:15', '2022-06-16 16:53:15', '查询本体库10', '', 'pending', '[]', '[]', '[]', '[]'],
            [21, '2022-06-16 16:53:16', '2022-06-16 16:53:16', '查询本体库11', '', 'pending', '[]', '[]', '[]', '[]'],
            [22, '2022-06-16 16:53:16', '2022-06-16 16:53:16', '查询本体库12', '', 'pending', '[]', '[]', '[]', '[]']]
        column = ['id', 'create_time', 'update_time', 'ontology_name', 'ontology_des', 'otl_status', 'entity', 'edge', 'used_task', 'all_task']
        ret = pd.DataFrame(ret_row, columns=column)
        otl_dao.getall = mock.Mock(return_value=ret)

        # mock otl_dao.getcountbystate
        otl_dao.getcountbystate = mock.Mock(return_value=30)
        # mock otl_dao.getallbystate
        ret_row = [[7, '2022-06-15 14:55:27', '2022-06-16 10:20:41', 'test_jingtai2', '', 'available',
                    "[{'entity_id': 1, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '目录'}, {'entity_id': 2, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'editor'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 3, 'colour': '#00BDD4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '章节'}, {'entity_id': 4, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '正文'}, {'entity_id': 5, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '标签'}, {'entity_id': 6, 'colour': '#FFC106', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '解释'}, {'entity_id': 7, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_desc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '主题'}]",
                    "[{'edge_id': 1, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 2, 'colour': '#FFC106', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'ds_address': '', 'alias': '解释是'}, {'edge_id': 3, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 4, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 5, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 6, 'colour': '#354675', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 7, 'colour': '#019688', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'ds_address': '', 'alias': 'A相关B'}, {'edge_id': 8, 'colour': '#FFC106', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'ds_address': '', 'alias': '内容是'}, {'edge_id': 9, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 10, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 11, 'colour': '#00BDD4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 12, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document'], 'ds_address': '', 'alias': '关联'}]",
                    '[]', '[]'], [8, '2022-06-16 10:27:19', '2022-06-16 12:32:34', 'test', '', 'available',
                                  "[{'entity_id': 1, 'colour': '#54639C', 'ds_name': 'as结构化', 'dataType': 'structured', 'data_source': 'as7', 'ds_path': 'DataSet', 'ds_id': '2', 'extract_type': 'standardExtraction', 'name': 'industry_info', 'source_table': [['gns://DA5596D930134D7B8BBB230BF9D4A0D6/5EA358D933B84F8B8A98C52F166E7691/3E4121A37946443E815CF60B526787AC', 'industry_info.csv', 'DataSet/POC数据验证/industry_info.csv']], 'source_type': 'automatic', 'properties': [['name', 'string'], ['industry_name', 'string'], ['subindustry_name', 'string'], ['industry_status', 'string'], ['industry_id', 'string'], ['industry_level', 'string']], 'file_type': 'csv', 'task_id': '2', 'properties_index': ['name'], 'model': '', 'ds_address': 'https://10.240.0.133', 'alias': 'industry_info'}, {'entity_id': 2, 'colour': '#5C539B', 'ds_name': 'as结构化', 'dataType': 'structured', 'data_source': 'as7', 'ds_path': 'DataSet', 'ds_id': '2', 'extract_type': 'standardExtraction', 'name': 'sub_industry_info', 'source_table': [['gns://DA5596D930134D7B8BBB230BF9D4A0D6/5EA358D933B84F8B8A98C52F166E7691/AAEF6B1548124CBC80B544BE30CF330C', 'sub_industry_info.csv', 'DataSet/POC数据验证/sub_industry_info.csv']], 'source_type': 'automatic', 'properties': [['name', 'string'], ['industry_level', 'string'], ['sub_industry_id', 'string'], ['subindustry_name', 'string'], ['industry_status', 'string'], ['industry_level2', 'string']], 'file_type': 'csv', 'task_id': '2', 'properties_index': ['name', 'industry_level2'], 'model': '', 'ds_address': 'https://10.240.0.133', 'alias': 'sub_industry_info'}, {'entity_id': 3, 'colour': '#5F81D8', 'ds_name': 'as结构化', 'dataType': 'structured', 'data_source': 'as7', 'ds_path': 'DataSet', 'ds_id': '2', 'extract_type': 'standardExtraction', 'name': 'customer', 'source_table': [['gns://DA5596D930134D7B8BBB230BF9D4A0D6/5EA358D933B84F8B8A98C52F166E7691/FEE5F1BEEE834055905B0CB2759EC523', 'customer.csv', 'DataSet/POC数据验证/customer.csv']], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subindustry_id', 'string'], ['industry_id', 'string']], 'file_type': 'csv', 'task_id': '2', 'properties_index': ['name'], 'model': '', 'ds_address': 'https://10.240.0.133', 'alias': 'customer'}, {'entity_id': 4, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '目录'}, {'entity_id': 5, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'editor'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 6, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '章节'}, {'entity_id': 7, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '正文'}, {'entity_id': 8, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '标签'}, {'entity_id': 9, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '解释'}, {'entity_id': 10, 'colour': '#CDDC39', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_desc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '主题'}]",
                                  "[{'edge_id': 1, 'colour': '#68798E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': 'contain', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['sub_industry_info', 'contain', 'customer'], 'ds_address': '', 'alias': 'contain'}, {'edge_id': 2, 'colour': '#50A06A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': 'industry_info_2_customer', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['industry_info', 'industry_info_2_customer', 'customer'], 'ds_address': '', 'alias': 'industry_info_2_customer'}, {'edge_id': 3, 'colour': '#00BDD4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 4, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'ds_address': '', 'alias': '解释是'}, {'edge_id': 5, 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 6, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 7, 'colour': '#00BDD4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 8, 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 9, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'ds_address': '', 'alias': 'A相关B'}, {'edge_id': 10, 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'ds_address': '', 'alias': '内容是'}, {'edge_id': 11, 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 12, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 13, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 14, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 15, 'colour': '#F0E34F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': 'folder_2_industry_info', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['folder', 'folder_2_industry_info', 'industry_info'], 'ds_address': '', 'alias': 'folder_2_industry_info'}]",
                                  '[2]', '[2]'],
                   [9, '2022-06-16 11:23:21', '2022-06-16 12:27:00', 'customer', '', 'available',
                    "[{'entity_id': 1, 'colour': '#91C073', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'a', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string'], ['age', 'integer']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'age'], 'model': '', 'ds_address': '', 'alias': 'a'}, {'entity_id': 2, 'colour': '#2A908F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'b', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'b'}, {'entity_id': 3, 'colour': '#C64F58', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'c', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'c'}, {'entity_id': 4, 'colour': '#50A06A', 'ds_name': 'as结构化', 'dataType': 'structured', 'data_source': 'as7', 'ds_path': 'DataSet', 'ds_id': '2', 'extract_type': 'standardExtraction', 'name': 'd', 'source_table': [['gns://DA5596D930134D7B8BBB230BF9D4A0D6/BCB585D6E7D74AA986CAB9628B8B3B87/41F5E6219C874316825B82663EAE2CDC', '副本北大医学测试数据.csv', 'DataSet/csv/副本北大医学测试数据.csv']], 'source_type': 'automatic', 'properties': [['name', 'string'], ['f13a_11', 'string'], ['f103c5', 'string'], ['f41_11', 'string'], ['f13b', 'string'], ['f43d3_14', 'string'], ['g15q1_11', 'string'], ['d5_14', 'string'], ['d4fish2_14', 'string'], ['g15q2_14', 'string'], ['e63', 'string'], ['g11_18', 'string'], ['rg14a', 'string'], ['a53a5_18', 'string'], ['prov', 'string'], ['a53c5_14', 'string'], ['rd4bean_14', 'string'], ['f92e2_14', 'string'], ['d14g1063', 'string'], ['d11feedfu', 'string'], ['c65_18', 'string'], ['d14d26a11', 'string'], ['d4nut2_18', 'string'], ['g21', 'string'], ['g02_14', 'string'], ['rd4veg_14', 'string'], ['d14d26c51', 'string'], ['d31_18', 'string'], ['d14d26a4', 'string'], ['g15o1_11', 'string'], ['c51b_14', 'string'], ['f92c6', 'string'], ['a53f4_18', 'string'], ['f651a2_18', 'string'], ['d4milk2_14', 'string'], ['d11a53a6', 'string'], ['d18d26e1', 'string'], ['f12b_14', 'string'], ['rd4vit', 'string'], ['f103l4_11', 'string'], ['f35', 'string'], ['d11whopay', 'string'], ['a53j2_14', 'string'], ['rf652', 'string'], ['e64_11', 'string'], ['f103a2_11', 'string'], ['f43d4_14', 'string'], ['rf92d_14', 'string'], ['g1021_14', 'string'], ['f92a4_11', 'string'], ['f103a7', 'string'], ['f64i_18', 'string'], ['f103d4_18', 'string'], ['d14d26b1', 'string'], ['f92e6_18', 'string'], ['a53g11', 'string'], ['c13_18', 'string'], ['c53b', 'string'], ['rf32_14', 'string'], ['g4b_14', 'string'], ['a53j1_11', 'string'], ['rf15', 'string'], ['a53b1_14', 'string'], ['f84t_14', 'string'], ['f74', 'string'], ['f63_11', 'string'], ['d11financ', 'string'], ['d18diday2', 'string'], ['f64c_18', 'string'], ['d73_18', 'string'], ['rf43d', 'string'], ['d11paygov', 'string'], ['hukou_18', 'string'], ['f113b_18', 'string'], ['f92c4', 'string'], ['d14d26c11', 'string'], ['f92c5_18', 'string'], ['f651a1_14', 'string'], ['ra53i_11', 'string'], ['f64e1_11', 'string'], ['rg3_11', 'string'], ['f92d5_14', 'string'], ['f92i4_14', 'string'], ['rf1032_11', 'string'], ['f144_11', 'string'], ['f64d', 'string'], ['f103i3', 'string'], ['d11pocket', 'string'], ['g15r1_14', 'string'], ['e5_18', 'string'], ['rg25_14', 'string'], ['f92e7_11', 'string'], ['d11vyear', 'string'], ['g15k2_11', 'string'], ['f91_18', 'string'], ['f101_18', 'string'], ['f64i_14', 'string'], ['d14d26c6', 'string'], ['d4meat2_18', 'string'], ['f103h5_18', 'string'], ['f112b_14', 'string']], 'file_type': 'csv', 'task_id': '4', 'properties_index': ['name'], 'model': '', 'ds_address': 'https://10.240.0.133', 'alias': 'd'}, {'entity_id': 5, 'colour': '#68798E', 'ds_name': 'as结构化', 'dataType': 'structured', 'data_source': 'as7', 'ds_path': 'DataSet', 'ds_id': '2', 'extract_type': 'standardExtraction', 'name': 'e', 'source_table': [['gns://DA5596D930134D7B8BBB230BF9D4A0D6/BCB585D6E7D74AA986CAB9628B8B3B87/4693968E906C40B1A0593FA7144B0883', 'csv文件.csv', 'DataSet/csv/csv文件.csv']], 'source_type': 'automatic', 'properties': [['name', 'string'], ['缃楀叞ad_棣欐腐婕斿憳ad_ad_涓昏ad_浣滃搧ad_鎴戠殑濠嗗ad_榛勯ad_楦ad_缃楀叞a', 'string']], 'file_type': 'csv', 'task_id': '4', 'properties_index': ['name'], 'model': '', 'ds_address': 'https://10.240.0.133', 'alias': 'e'}]",
                    '[]', '[4]', '[4]'], [10, '2022-06-16 11:29:08', '2022-06-16 11:29:08', 'tgfh', '', 'available',
                                          "[{'entity_id': 1, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '目录'}, {'entity_id': 2, 'colour': '#019688', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'editor'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 3, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '章节'}, {'entity_id': 4, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '正文'}, {'entity_id': 5, 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '标签'}, {'entity_id': 6, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '解释'}, {'entity_id': 7, 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_desc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '主题'}]",
                                          "[{'edge_id': 1, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 2, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'ds_address': '', 'alias': '解释是'}, {'edge_id': 3, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 4, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 5, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 6, 'colour': '#FFC106', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 7, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'ds_address': '', 'alias': 'A相关B'}, {'edge_id': 8, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'ds_address': '', 'alias': '内容是'}, {'edge_id': 9, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 10, 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 11, 'colour': '#CDDC39', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 12, 'colour': '#FFC106', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document'], 'ds_address': '', 'alias': '关联'}]",
                                          '[]', '[]'],
                   [11, '2022-06-16 12:57:04', '2022-08-05 10:25:41', 'test2', '', 'available',
                    "[{'entity_id': 1, 'colour': '#D9534C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'test_newname', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string'], ['new_prop', 'string'], ['new_prop2', 'boolean'], ['new_prop3', 'double']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'test'}, {'entity_id': 2, 'colour': '#ECB763', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'test2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'test2'}, {'entity_id': 3, 'colour': '#6D372A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '105', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '105'}, {'entity_id': 4, 'colour': '#3641D3', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '106', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '106'}, {'entity_id': 5, 'colour': '#185DE7', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '108', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '108'}, {'entity_id': 7, 'colour': '#791A75', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '1', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '1'}, {'entity_id': 8, 'colour': '#E4E1C0', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '2'}, {'entity_id': 9, 'colour': '#8EA897', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '3', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '3'}, {'entity_id': 10, 'colour': '#EBFE0E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '4'}, {'entity_id': 11, 'colour': '#554B6C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '5', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '5'}, {'entity_id': 13, 'colour': '#349786', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '7', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '7'}, {'entity_id': 14, 'colour': '#5B4626', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '8', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '8'}, {'entity_id': 15, 'colour': '#8B0EE9', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'c108', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'c108'}]",
                    "[{'edge_id': 1, 'colour': '#91C073', 'ds_name': '', 'dataType': '', 'ds_id': '', 'extract_type': '', 'name': 'test2_test_test', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['test2', 'test2_test_test', 'test_newname'], 'ds_address': '', 'alias': 'test2_test_test'}, {'edge_id': 2, 'colour': '#F1959C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': 'c106_2_105', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['106', 'c106_2_105', '105'], 'ds_address': '', 'alias': 'c106_2_105'}, {'edge_id': 3, 'colour': '#0603D8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': '1_2_2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['1', '1_2_2', '2'], 'ds_address': '', 'alias': '1_2_2'}, {'edge_id': 4, 'colour': '#B71EDF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': '3_2_2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['3', '3_2_2', '2'], 'ds_address': '', 'alias': '3_2_2'}, {'edge_id': 5, 'colour': '#CB5B65', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': '3_2_4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['3', '3_2_4', '4'], 'ds_address': '', 'alias': '3_2_4'}, {'edge_id': 6, 'colour': '#4B528E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': '5_2_4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['5', '5_2_4', '4'], 'ds_address': '', 'alias': '5_2_4'}]",
                    '[]', '[]'], [12, '2022-06-16 13:15:40', '2022-06-16 15:18:24', 'testgyz', '', 'available',
                                  "[{'entity_id': 1, 'colour': '#5889C4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'testgyz2'}, {'entity_id': 2, 'colour': '#5889C4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz3', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'testgyz3'}, {'entity_id': 3, 'colour': '#5F81D8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'testgyz4'}, {'entity_id': 4, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '目录'}, {'entity_id': 5, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'editor'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 6, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '章节'}, {'entity_id': 7, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '正文'}, {'entity_id': 8, 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '标签'}, {'entity_id': 9, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '解释'}, {'entity_id': 10, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_desc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '主题'}, {'entity_id': 11, 'colour': '#50A06A', 'ds_name': 'as结构化', 'dataType': 'structured', 'data_source': 'as7', 'ds_path': 'DataSet', 'ds_id': '2', 'extract_type': 'standardExtraction', 'name': 'customer', 'source_table': [['gns://DA5596D930134D7B8BBB230BF9D4A0D6/5EA358D933B84F8B8A98C52F166E7691/FEE5F1BEEE834055905B0CB2759EC523', 'customer.csv', 'DataSet/POC数据验证/customer.csv']], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subindustry_id', 'string'], ['industry_id', 'string']], 'file_type': 'csv', 'task_id': '5', 'properties_index': ['name'], 'model': '', 'ds_address': 'https://10.240.0.133', 'alias': 'customer'}]",
                                  "[{'edge_id': 1, 'colour': '#3A4673', 'ds_name': '', 'dataType': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz4_2_testgyz2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['testgyz4', 'testgyz4_2_testgyz2', 'testgyz2'], 'ds_address': '', 'alias': 'testgyz4_2_testgyz2'}, {'edge_id': 2, 'colour': '#F0E34F', 'ds_name': '', 'dataType': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz3_2_testgyz4', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['testgyz3', 'testgyz3_2_testgyz4', 'testgyz4'], 'ds_address': '', 'alias': 'testgyz3_2_testgyz4'}, {'edge_id': 3, 'colour': '#50A06A', 'ds_name': '', 'dataType': '', 'ds_id': '', 'extract_type': '', 'name': 'testgyz4_1_testgyz2', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['testgyz4', 'testgyz4_1_testgyz2', 'testgyz2'], 'ds_address': '', 'alias': 'testgyz4_2_testgyz2'}, {'edge_id': 4, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 5, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'ds_address': '', 'alias': '解释是'}, {'edge_id': 6, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 7, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 8, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 9, 'colour': '#CDDC39', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 10, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'ds_address': '', 'alias': 'A相关B'}, {'edge_id': 11, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'ds_address': '', 'alias': '内容是'}, {'edge_id': 12, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 13, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 14, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 15, 'colour': '#FFC106', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document'], 'ds_address': '', 'alias': '关联'}]",
                                  '[5]', '[5]']
                   ]
        column =['id', 'create_time', 'update_time', 'ontology_name', 'ontology_des', 'otl_status', 'entity', 'edge', 'used_task', 'all_task']
        ret = pd.DataFrame(ret_row, columns=column)
        otl_dao.getallbystate = mock.Mock(return_value=ret)

        # mock otl_dao.getCountbyname
        otl_dao.getCountbyname = mock.Mock(return_value=8)
        # mock otl_dao.getallbyname
        ret_row = [
            [161, '2022-06-20 12:44:36', '2022-06-20 12:44:36', 'test_for_kmerger_1655700213_otl', '', 'available',
             "[{'entity_id': 1, 'alias': 'folder1', 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'gns', 'create_time', 'rev'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 2, 'alias': '文档', 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'create_time', 'editor', 'gns', 'file_type', 'modified_time', 'rev'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 3, 'alias': 'chapter1', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'level'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 4, 'alias': 'text1', 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 5, 'alias': 'label1', 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'confidence', 'adlabel_kcid', 'kc_topic_tags', 'type_as', 'type_sa', 'type_nw', 'type_kc'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 6, 'alias': 'desc1', 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 7, 'alias': '主题', 'colour': '#354675', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_id', 'subject_path', 'subject_fold', 'subject_desc'], 'model': 'Anysharedocumentmodel'}]",
             "[{'edge_id': 1, 'alias': 'desc2document1', 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document']}, {'edge_id': 2, 'alias': 'desc2label', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label']}, {'edge_id': 3, 'alias': 'folder2folder1', 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder']}, {'edge_id': 4, 'alias': 'folder2document1', 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document']}, {'edge_id': 5, 'alias': 'document2chapter1', 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter']}, {'edge_id': 6, 'alias': 'document2text1', 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text']}, {'edge_id': 7, 'alias': 'text2text1', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text']}, {'edge_id': 8, 'alias': 'chapter2text1', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text']}, {'edge_id': 9, 'alias': 'label2label1', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label']}, {'edge_id': 10, 'alias': 'label2document', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document']}, {'edge_id': 11, 'alias': '关联', 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject']}, {'edge_id': 12, 'alias': '关联', 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'score'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document']}]",
             '[]', '[]'],
            [162, '2022-06-20 12:45:11', '2022-06-20 12:45:11', 'test_for_kmerger_1655700309_otl', '', 'available',
             "[{'entity_id': 1, 'alias': 'folder1', 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'gns', 'create_time', 'rev'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 2, 'alias': '文档', 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'create_time', 'editor', 'gns', 'file_type', 'modified_time', 'rev'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 3, 'alias': 'chapter1', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'level'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 4, 'alias': 'text1', 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 5, 'alias': 'label1', 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'confidence', 'adlabel_kcid', 'kc_topic_tags', 'type_as', 'type_sa', 'type_nw', 'type_kc'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 6, 'alias': 'desc1', 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 7, 'alias': '主题', 'colour': '#354675', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_id', 'subject_path', 'subject_fold', 'subject_desc'], 'model': 'Anysharedocumentmodel'}]",
             "[{'edge_id': 1, 'alias': 'desc2document1', 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document']}, {'edge_id': 2, 'alias': 'desc2label', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label']}, {'edge_id': 3, 'alias': 'folder2folder1', 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder']}, {'edge_id': 4, 'alias': 'folder2document1', 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document']}, {'edge_id': 5, 'alias': 'document2chapter1', 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter']}, {'edge_id': 6, 'alias': 'document2text1', 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text']}, {'edge_id': 7, 'alias': 'text2text1', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text']}, {'edge_id': 8, 'alias': 'chapter2text1', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text']}, {'edge_id': 9, 'alias': 'label2label1', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label']}, {'edge_id': 10, 'alias': 'label2document', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document']}, {'edge_id': 11, 'alias': '关联', 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject']}, {'edge_id': 12, 'alias': '关联', 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'score'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document']}]",
             '[]', '[]'],
            [163, '2022-06-20 12:45:40', '2022-06-20 12:45:40', 'test_for_kmerger_1655700338_otl', '', 'available',
             "[{'entity_id': 1, 'alias': 'folder1', 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'gns', 'create_time', 'rev'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 2, 'alias': '文档', 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'create_time', 'editor', 'gns', 'file_type', 'modified_time', 'rev'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 3, 'alias': 'chapter1', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'level'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 4, 'alias': 'text1', 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 5, 'alias': 'label1', 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'confidence', 'adlabel_kcid', 'kc_topic_tags', 'type_as', 'type_sa', 'type_nw', 'type_kc'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 6, 'alias': 'desc1', 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 7, 'alias': '主题', 'colour': '#354675', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_id', 'subject_path', 'subject_fold', 'subject_desc'], 'model': 'Anysharedocumentmodel'}]",
             "[{'edge_id': 1, 'alias': 'desc2document1', 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document']}, {'edge_id': 2, 'alias': 'desc2label', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label']}, {'edge_id': 3, 'alias': 'folder2folder1', 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder']}, {'edge_id': 4, 'alias': 'folder2document1', 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document']}, {'edge_id': 5, 'alias': 'document2chapter1', 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter']}, {'edge_id': 6, 'alias': 'document2text1', 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text']}, {'edge_id': 7, 'alias': 'text2text1', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text']}, {'edge_id': 8, 'alias': 'chapter2text1', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text']}, {'edge_id': 9, 'alias': 'label2label1', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label']}, {'edge_id': 10, 'alias': 'label2document', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document']}, {'edge_id': 11, 'alias': '关联', 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject']}, {'edge_id': 12, 'alias': '关联', 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'score'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document']}]",
             '[]', '[]'],
            [164, '2022-06-20 12:46:28', '2022-06-22 11:02:56', 'test_for_kmerger_1655700386_otl', '', 'available',
             "[{'entity_id': 1, 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'gns', 'create_time', 'rev'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'folder1'}, {'entity_id': 2, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'create_time', 'editor', 'gns', 'file_type', 'modified_time', 'rev'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 3, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'level'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'chapter1'}, {'entity_id': 4, 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'text1'}, {'entity_id': 5, 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'confidence', 'adlabel_kcid', 'kc_topic_tags', 'type_as', 'type_sa', 'type_nw', 'type_kc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'label1'}, {'entity_id': 6, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'desc1'}, {'entity_id': 7, 'colour': '#354675', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_id', 'subject_path', 'subject_fold', 'subject_desc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '主题'}]",
             "[{'edge_id': 1, 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'alias': 'desc2document1'}, {'edge_id': 2, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'alias': 'desc2label'}, {'edge_id': 3, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'alias': 'folder2folder1'}, {'edge_id': 4, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'alias': 'folder2document1'}, {'edge_id': 5, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'alias': 'document2chapter1'}, {'edge_id': 6, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'alias': 'document2text1'}, {'edge_id': 7, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'alias': 'text2text1'}, {'edge_id': 8, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'alias': 'chapter2text1'}, {'edge_id': 9, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'alias': 'label2label1'}, {'edge_id': 10, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'alias': 'label2document'}, {'edge_id': 11, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject'], 'alias': '关联'}, {'edge_id': 12, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'score'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document'], 'alias': '关联'}]",
             '[]', '[]'],
            [165, '2022-06-20 12:49:00', '2022-06-20 16:26:08', 'test_for_kmerger_1655700538_otl', '', 'available',
             "[{'entity_id': 1, 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'gns', 'create_time', 'rev'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'folder1'}, {'entity_id': 2, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'create_time', 'editor', 'gns', 'file_type', 'modified_time', 'rev'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 3, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'level'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'chapter1'}, {'entity_id': 4, 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'text1'}, {'entity_id': 5, 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'confidence', 'adlabel_kcid', 'kc_topic_tags', 'type_as', 'type_sa', 'type_nw', 'type_kc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'label1'}, {'entity_id': 6, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'desc1'}, {'entity_id': 7, 'colour': '#354675', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_id', 'subject_path', 'subject_fold', 'subject_desc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '主题'}]",
             "[{'edge_id': 1, 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'alias': 'desc2document1'}, {'edge_id': 2, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'alias': 'desc2label'}, {'edge_id': 3, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'alias': 'folder2folder1'}, {'edge_id': 4, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'alias': 'folder2document1'}, {'edge_id': 5, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'alias': 'document2chapter1'}, {'edge_id': 6, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'alias': 'document2text1'}, {'edge_id': 7, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'alias': 'text2text1'}, {'edge_id': 8, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'alias': 'chapter2text1'}, {'edge_id': 9, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'alias': 'label2label1'}, {'edge_id': 10, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'alias': 'label2document'}, {'edge_id': 11, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject'], 'alias': '关联'}, {'edge_id': 12, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'score'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document'], 'alias': '关联'}]",
             '[]', '[]'], [171, '2022-06-22 09:37:17', '2022-06-22 10:54:14', 't1', '', 'available',
                           "[{'entity_id': 1, 'colour': '#5C539B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '1234', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '1234'}]",
                           '[]', '[12]', '[]'],
            [172, '2022-06-22 10:46:42', '2022-06-22 11:01:11', '12334', '', 'available',
             "[{'entity_id': 1, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'person', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '人'}, {'entity_id': 2, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'enterprise', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['financing', 'string'], ['financing_amount', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '公司'}, {'entity_id': 3, 'colour': '#CDDC39', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'job_title', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '职位名称'}, {'entity_id': 4, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'production', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['publish_date', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '产品'}, {'entity_id': 5, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'lead_investor', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '领投方'}, {'entity_id': 6, 'colour': '#354675', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'acquirer', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '收购者'}, {'entity_id': 7, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'algorithm_proposer', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '作者'}, {'entity_id': 8, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'algorithm', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '算法'}, {'entity_id': 9, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'paper', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['journal', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '论文'}, {'entity_id': 10, 'colour': '#00BDD4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'conference', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['datetime', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '会议'}, {'entity_id': 11, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'location', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '地点'}]",
             "[{'edge_id': 1, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'work_on', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['person', 'work_on', 'enterprise'], 'ds_address': '', 'alias': '工作单位'}, {'edge_id': 2, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'position', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['person', 'position', 'job_title'], 'ds_address': '', 'alias': '职位'}, {'edge_id': 3, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'develop', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['enterprise', 'develop', 'production'], 'ds_address': '', 'alias': '开发'}, {'edge_id': 4, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'invest', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['enterprise', 'invest', 'enterprise'], 'ds_address': '', 'alias': '投资'}, {'edge_id': 5, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'lead', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['lead_investor', 'lead', 'enterprise'], 'ds_address': '', 'alias': '领投'}, {'edge_id': 6, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'take_over', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['acquirer', 'take_over', 'enterprise'], 'ds_address': '', 'alias': '收购'}, {'edge_id': 7, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'present', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['algorithm_proposer', 'present', 'algorithm'], 'ds_address': '', 'alias': '提出'}, {'edge_id': 8, 'colour': '#CDDC39', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'publish', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['person', 'publish', 'paper'], 'ds_address': '', 'alias': '发表'}, {'edge_id': 9, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'purchased_by', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['enterprise', 'purchased_by', 'enterprise'], 'ds_address': '', 'alias': '被收购'}, {'edge_id': 10, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'venue', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['conference', 'venue', 'location'], 'ds_address': '', 'alias': '举行地点'}, {'edge_id': 11, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'hold', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['enterprise', 'hold', 'conference'], 'ds_address': '', 'alias': '举办'}]",
             '[]', '[]'], [183, '2022-06-24 10:33:03', '2022-07-08 15:12:53', '1', '', 'available',
                           "[{'entity_id': 1, 'colour': '#91C073', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'a', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'a'}, {'entity_id': 2, 'colour': '#F0E34F', 'ds_name': '11', 'dataType': 'structured', 'data_source': 'as7', 'ds_path': '黄思祺(Alice)', 'ds_id': '136', 'extract_type': 'standardExtraction', 'name': 'industry_info', 'source_table': [['gns://5B32B75DF1D246E59209BE1C04515587/4932E3A6EFC9476A8549C4D02DE2D40D/3D77695B9C1641398944920D7B6D921E', 'industry_info.csv', '黄思祺（Alice）/测试用例/industry_info.csv']], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subindustry_name', 'string'], ['industry_id', 'string'], ['industry_name', 'string'], ['industry_level', 'string'], ['industry_status', 'string']], 'file_type': 'csv', 'task_id': '14', 'properties_index': ['name'], 'model': '', 'ds_address': 'https://anyshare.aishu.cn', 'alias': 'industry_info'}]",
                           "[{'edge_id': 1, 'colour': '#3A4673', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': 'a_2_industry_info', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['a', 'a_2_industry_info', 'industry_info'], 'ds_address': '', 'alias': 'a_2_industry_info'}]",
                           '[14]', '[14]']
        ]
        column = ['id', 'create_time', 'update_time', 'ontology_name', 'ontology_des', 'otl_status', 'entity', 'edge', 'used_task', 'all_task']
        ret = pd.DataFrame(ret_row, columns=column)
        otl_dao.getallbyname = mock.Mock(return_value=ret)

        # mock otl_dao.getCountbynameandstate
        otl_dao.getCountbynameandstate = mock.Mock(return_value=6)
        # mock otl_dao.getallbynameandstate
        ret_row = [
            [161, '2022-06-20 12:44:36', '2022-06-20 12:44:36', 'test_for_kmerger_1655700213_otl', '', 'available',
             "[{'entity_id': 1, 'alias': 'folder1', 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'gns', 'create_time', 'rev'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 2, 'alias': '文档', 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'create_time', 'editor', 'gns', 'file_type', 'modified_time', 'rev'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 3, 'alias': 'chapter1', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'level'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 4, 'alias': 'text1', 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 5, 'alias': 'label1', 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'confidence', 'adlabel_kcid', 'kc_topic_tags', 'type_as', 'type_sa', 'type_nw', 'type_kc'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 6, 'alias': 'desc1', 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 7, 'alias': '主题', 'colour': '#354675', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_id', 'subject_path', 'subject_fold', 'subject_desc'], 'model': 'Anysharedocumentmodel'}]",
             "[{'edge_id': 1, 'alias': 'desc2document1', 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document']}, {'edge_id': 2, 'alias': 'desc2label', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label']}, {'edge_id': 3, 'alias': 'folder2folder1', 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder']}, {'edge_id': 4, 'alias': 'folder2document1', 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document']}, {'edge_id': 5, 'alias': 'document2chapter1', 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter']}, {'edge_id': 6, 'alias': 'document2text1', 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text']}, {'edge_id': 7, 'alias': 'text2text1', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text']}, {'edge_id': 8, 'alias': 'chapter2text1', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text']}, {'edge_id': 9, 'alias': 'label2label1', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label']}, {'edge_id': 10, 'alias': 'label2document', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document']}, {'edge_id': 11, 'alias': '关联', 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject']}, {'edge_id': 12, 'alias': '关联', 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'score'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document']}]",
             '[]', '[]'],
            [162, '2022-06-20 12:45:11', '2022-06-20 12:45:11', 'test_for_kmerger_1655700309_otl', '', 'available',
             "[{'entity_id': 1, 'alias': 'folder1', 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'gns', 'create_time', 'rev'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 2, 'alias': '文档', 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'create_time', 'editor', 'gns', 'file_type', 'modified_time', 'rev'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 3, 'alias': 'chapter1', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'level'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 4, 'alias': 'text1', 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 5, 'alias': 'label1', 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'confidence', 'adlabel_kcid', 'kc_topic_tags', 'type_as', 'type_sa', 'type_nw', 'type_kc'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 6, 'alias': 'desc1', 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 7, 'alias': '主题', 'colour': '#354675', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_id', 'subject_path', 'subject_fold', 'subject_desc'], 'model': 'Anysharedocumentmodel'}]",
             "[{'edge_id': 1, 'alias': 'desc2document1', 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document']}, {'edge_id': 2, 'alias': 'desc2label', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label']}, {'edge_id': 3, 'alias': 'folder2folder1', 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder']}, {'edge_id': 4, 'alias': 'folder2document1', 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document']}, {'edge_id': 5, 'alias': 'document2chapter1', 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter']}, {'edge_id': 6, 'alias': 'document2text1', 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text']}, {'edge_id': 7, 'alias': 'text2text1', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text']}, {'edge_id': 8, 'alias': 'chapter2text1', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text']}, {'edge_id': 9, 'alias': 'label2label1', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label']}, {'edge_id': 10, 'alias': 'label2document', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document']}, {'edge_id': 11, 'alias': '关联', 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject']}, {'edge_id': 12, 'alias': '关联', 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'score'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document']}]",
             '[]', '[]'],
            [163, '2022-06-20 12:45:40', '2022-06-20 12:45:40', 'test_for_kmerger_1655700338_otl', '', 'available',
             "[{'entity_id': 1, 'alias': 'folder1', 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'gns', 'create_time', 'rev'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 2, 'alias': '文档', 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'create_time', 'editor', 'gns', 'file_type', 'modified_time', 'rev'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 3, 'alias': 'chapter1', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'level'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 4, 'alias': 'text1', 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 5, 'alias': 'label1', 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'confidence', 'adlabel_kcid', 'kc_topic_tags', 'type_as', 'type_sa', 'type_nw', 'type_kc'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 6, 'alias': 'desc1', 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel'}, {'entity_id': 7, 'alias': '主题', 'colour': '#354675', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_id', 'subject_path', 'subject_fold', 'subject_desc'], 'model': 'Anysharedocumentmodel'}]",
             "[{'edge_id': 1, 'alias': 'desc2document1', 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document']}, {'edge_id': 2, 'alias': 'desc2label', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label']}, {'edge_id': 3, 'alias': 'folder2folder1', 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder']}, {'edge_id': 4, 'alias': 'folder2document1', 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document']}, {'edge_id': 5, 'alias': 'document2chapter1', 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter']}, {'edge_id': 6, 'alias': 'document2text1', 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text']}, {'edge_id': 7, 'alias': 'text2text1', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text']}, {'edge_id': 8, 'alias': 'chapter2text1', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text']}, {'edge_id': 9, 'alias': 'label2label1', 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label']}, {'edge_id': 10, 'alias': 'label2document', 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document']}, {'edge_id': 11, 'alias': '关联', 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject']}, {'edge_id': 12, 'alias': '关联', 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'score'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document']}]",
             '[]', '[]'],
            [164, '2022-06-20 12:46:28', '2022-06-22 11:02:56', 'test_for_kmerger_1655700386_otl', '', 'available',
             "[{'entity_id': 1, 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'gns', 'create_time', 'rev'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'folder1'}, {'entity_id': 2, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'create_time', 'editor', 'gns', 'file_type', 'modified_time', 'rev'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 3, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'level'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'chapter1'}, {'entity_id': 4, 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'text1'}, {'entity_id': 5, 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'confidence', 'adlabel_kcid', 'kc_topic_tags', 'type_as', 'type_sa', 'type_nw', 'type_kc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'label1'}, {'entity_id': 6, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'desc1'}, {'entity_id': 7, 'colour': '#354675', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_id', 'subject_path', 'subject_fold', 'subject_desc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '主题'}]",
             "[{'edge_id': 1, 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'alias': 'desc2document1'}, {'edge_id': 2, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'alias': 'desc2label'}, {'edge_id': 3, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'alias': 'folder2folder1'}, {'edge_id': 4, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'alias': 'folder2document1'}, {'edge_id': 5, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'alias': 'document2chapter1'}, {'edge_id': 6, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'alias': 'document2text1'}, {'edge_id': 7, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'alias': 'text2text1'}, {'edge_id': 8, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'alias': 'chapter2text1'}, {'edge_id': 9, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'alias': 'label2label1'}, {'edge_id': 10, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'alias': 'label2document'}, {'edge_id': 11, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject'], 'alias': '关联'}, {'edge_id': 12, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'score'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document'], 'alias': '关联'}]",
             '[]', '[]'],
            [165, '2022-06-20 12:49:00', '2022-06-20 16:26:08', 'test_for_kmerger_1655700538_otl', '', 'available',
             "[{'entity_id': 1, 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'gns', 'create_time', 'rev'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'folder1'}, {'entity_id': 2, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'create_time', 'editor', 'gns', 'file_type', 'modified_time', 'rev'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 3, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'level'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'chapter1'}, {'entity_id': 4, 'colour': '#673AB8', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'text1'}, {'entity_id': 5, 'colour': '#8BC34A', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'confidence', 'adlabel_kcid', 'kc_topic_tags', 'type_as', 'type_sa', 'type_nw', 'type_kc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'label1'}, {'entity_id': 6, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': 'desc1'}, {'entity_id': 7, 'colour': '#354675', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_id', 'subject_path', 'subject_fold', 'subject_desc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '主题'}]",
             "[{'edge_id': 1, 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'alias': 'desc2document1'}, {'edge_id': 2, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'alias': 'desc2label'}, {'edge_id': 3, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'alias': 'folder2folder1'}, {'edge_id': 4, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'alias': 'folder2document1'}, {'edge_id': 5, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'alias': 'document2chapter1'}, {'edge_id': 6, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'alias': 'document2text1'}, {'edge_id': 7, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'alias': 'text2text1'}, {'edge_id': 8, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'alias': 'chapter2text1'}, {'edge_id': 9, 'colour': '#795648', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'alias': 'label2label1'}, {'edge_id': 10, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'weight'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'alias': 'label2document'}, {'edge_id': 11, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject'], 'alias': '关联'}, {'edge_id': 12, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'score'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document'], 'alias': '关联'}]",
             '[]', '[]'], [171, '2022-06-22 09:37:17', '2022-06-22 10:54:14', 't1', '', 'available',
                           "[{'entity_id': 1, 'colour': '#5C539B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': '1234', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': '1234'}]",
                           '[]', '[12]', '[]'],
            [172, '2022-06-22 10:46:42', '2022-06-22 11:01:11', '12334', '', 'available',
             "[{'entity_id': 1, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'person', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '人'}, {'entity_id': 2, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'enterprise', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['financing', 'string'], ['financing_amount', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '公司'}, {'entity_id': 3, 'colour': '#CDDC39', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'job_title', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '职位名称'}, {'entity_id': 4, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'production', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['publish_date', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '产品'}, {'entity_id': 5, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'lead_investor', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '领投方'}, {'entity_id': 6, 'colour': '#354675', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'acquirer', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '收购者'}, {'entity_id': 7, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'algorithm_proposer', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '作者'}, {'entity_id': 8, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'algorithm', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '算法'}, {'entity_id': 9, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'paper', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['journal', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '论文'}, {'entity_id': 10, 'colour': '#00BDD4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'conference', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['datetime', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '会议'}, {'entity_id': 11, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'location', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'ds_address': '', 'alias': '地点'}]",
             "[{'edge_id': 1, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'work_on', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['person', 'work_on', 'enterprise'], 'ds_address': '', 'alias': '工作单位'}, {'edge_id': 2, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'position', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['person', 'position', 'job_title'], 'ds_address': '', 'alias': '职位'}, {'edge_id': 3, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'develop', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['enterprise', 'develop', 'production'], 'ds_address': '', 'alias': '开发'}, {'edge_id': 4, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'invest', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['enterprise', 'invest', 'enterprise'], 'ds_address': '', 'alias': '投资'}, {'edge_id': 5, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'lead', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['lead_investor', 'lead', 'enterprise'], 'ds_address': '', 'alias': '领投'}, {'edge_id': 6, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'take_over', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['acquirer', 'take_over', 'enterprise'], 'ds_address': '', 'alias': '收购'}, {'edge_id': 7, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'present', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['algorithm_proposer', 'present', 'algorithm'], 'ds_address': '', 'alias': '提出'}, {'edge_id': 8, 'colour': '#CDDC39', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'publish', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['person', 'publish', 'paper'], 'ds_address': '', 'alias': '发表'}, {'edge_id': 9, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'purchased_by', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['enterprise', 'purchased_by', 'enterprise'], 'ds_address': '', 'alias': '被收购'}, {'edge_id': 10, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'venue', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['conference', 'venue', 'location'], 'ds_address': '', 'alias': '举行地点'}, {'edge_id': 11, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'hold', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'AImodel', 'relations': ['enterprise', 'hold', 'conference'], 'ds_address': '', 'alias': '举办'}]",
             '[]', '[]'], [183, '2022-06-24 10:33:03', '2022-07-08 15:12:53', '1', '', 'available',
                           "[{'entity_id': 1, 'colour': '#91C073', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'a', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'ds_address': '', 'alias': 'a'}, {'entity_id': 2, 'colour': '#F0E34F', 'ds_name': '11', 'dataType': 'structured', 'data_source': 'as7', 'ds_path': '黄思祺(Alice)', 'ds_id': '136', 'extract_type': 'standardExtraction', 'name': 'industry_info', 'source_table': [['gns://5B32B75DF1D246E59209BE1C04515587/4932E3A6EFC9476A8549C4D02DE2D40D/3D77695B9C1641398944920D7B6D921E', 'industry_info.csv', '黄思祺（Alice）/测试用例/industry_info.csv']], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subindustry_name', 'string'], ['industry_id', 'string'], ['industry_name', 'string'], ['industry_level', 'string'], ['industry_status', 'string']], 'file_type': 'csv', 'task_id': '14', 'properties_index': ['name'], 'model': '', 'ds_address': 'https://anyshare.aishu.cn', 'alias': 'industry_info'}]",
                           "[{'edge_id': 1, 'colour': '#3A4673', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': 'a_2_industry_info', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['a', 'a_2_industry_info', 'industry_info'], 'ds_address': '', 'alias': 'a_2_industry_info'}]",
                           '[14]', '[14]']
            ]
        column = ['id', 'create_time', 'update_time', 'ontology_name', 'ontology_des', 'otl_status', 'entity', 'edge', 'used_task', 'all_task']
        ret = pd.DataFrame(ret_row, columns=column)
        otl_dao.getallbynameandstate = mock.Mock(return_value=ret)

        # mock otl_dao.getbyid
        ret_row = [[1, '2022-06-09 10:14:46', '2022-07-26 14:38:44', 'as_test', '', 'available',
                    "[{'entity_id': 1, 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['gns', 'string'], ['create_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '目录'}, {'entity_id': 2, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['creator', 'string'], ['create_time', 'string'], ['editor', 'string'], ['gns', 'string'], ['file_type', 'string'], ['modified_time', 'string'], ['rev', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path', 'creator', 'editor'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '文档'}, {'entity_id': 3, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['path', 'string'], ['level', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'path'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '章节'}, {'entity_id': 4, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '正文'}, {'entity_id': 5, 'colour': '#00BDD4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['confidence', 'float'], ['adlabel_kcid', 'string'], ['kc_topic_tags', 'string'], ['type_as', 'boolean'], ['type_sa', 'boolean'], ['type_nw', 'boolean'], ['type_kc', 'boolean']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '标签'}, {'entity_id': 6, 'colour': '#374047', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '解释'}, {'entity_id': 7, 'colour': '#ED679F', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['subject_id', 'float'], ['subject_path', 'string'], ['subject_fold', 'string'], ['subject_desc', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name', 'subject_desc'], 'model': 'Anysharedocumentmodel', 'ds_address': '', 'alias': '主题'}]",
                    "[{'edge_id': 1, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 2, 'colour': '#FFC106', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'desc2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['desc', 'desc2label', 'label'], 'ds_address': '', 'alias': '解释是'}, {'edge_id': 3, 'colour': '#FF9800', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2folder', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2folder', 'folder'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 4, 'colour': '#CDDC39', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'folder2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['folder', 'folder2document', 'document'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 5, 'colour': '#00BDD4', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2chapter', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2chapter', 'chapter'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 6, 'colour': '#B31ACC', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'document2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['document', 'document2text', 'text'], 'ds_address': '', 'alias': '包含'}, {'edge_id': 7, 'colour': '#354675', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'text2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['text', 'text2text', 'text'], 'ds_address': '', 'alias': 'A相关B'}, {'edge_id': 8, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'chapter2text', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['chapter', 'chapter2text', 'text'], 'ds_address': '', 'alias': '内容是'}, {'edge_id': 9, 'colour': '#9E9E9E', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2label', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2label', 'label'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 10, 'colour': '#F44336', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['weight', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2document', 'document'], 'ds_address': '', 'alias': '出现于'}, {'edge_id': 11, 'colour': '#607D8B', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'label2subject', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['label', 'label2subject', 'subject'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 12, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'subject2document', 'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string'], ['score', 'float']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Anysharedocumentmodel', 'relations': ['subject', 'subject2document', 'document'], 'ds_address': '', 'alias': '关联'}, {'edge_id': 13, 'colour': '#E346E7', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_id': '', 'extract_type': '', 'name': 'desc_22222_folder', 'source_table': [], 'source_type': 'manual', 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': '', 'relations': ['desc', 'desc_22222_folder', 'folder'], 'ds_address': '', 'alias': 'desc_22222_folder'}]",
                    '[]', '[]']
                   ]
        column = ['id', 'create_time', 'update_time', 'ontology_name', 'ontology_des', 'otl_status', 'entity', 'edge', 'used_task', 'all_task']
        ret = pd.DataFrame(ret_row, columns=column)
        otl_dao.getbyid = mock.Mock(return_value=ret)

    # success
    def test_getbyotlname_success(self):
        otlid = ""
        num = -1

        args = {'otlname': '', 'otl_status': 'all', 'page': '1', 'size': '10', 'order': 'ascend',
                'timestamp': '1637201113677'}
        res = otl_service.getbyotlname(otlid, args, num)
        self.assertEqual(res[0], 200)

        # 本体状态为available
        args = {'otlname': '', 'otl_status': 'available', 'page': '1', 'size': '10', 'order': 'ascend',
                'timestamp': '1637201113677'}
        res = otl_service.getbyotlname(otlid, args, num)
        self.assertEqual(res[0], 200)

        # otlname不为空
        args = {'otlname': '1', 'otl_status': 'all', 'page': '1', 'size': '10', 'order': 'ascend',
                'timestamp': '1637201113677'}
        res = otl_service.getbyotlname(otlid, args, num)
        self.assertEqual(res[0], 200)

        # ottname不为空 + 本体状态为available
        args = {'otlname': '1', 'otl_status': 'available', 'page': '1', 'size': '10', 'order': 'ascend',
                'timestamp': '1637201113677'}
        res = otl_service.getbyotlname(otlid, args, num)
        self.assertEqual(res[0], 200)

        otlid = '60'
        args = {}
        num = 1
        res = otl_service.getbyotlname(otlid, args, num)
        self.assertEqual(res[0], 200)

    # 异常
    def test_getbyotlname_exception(self):
        # mock otl_dao.getCount exception
        otl_dao.getCount = mock.Mock(return_value=[], side_effect = Exception('database error'))

        args = {'otlname': '', 'otl_status': 'all', 'page': '1', 'size': '10', 'order': 'ascend',
                'timestamp': '1637201113677'}
        num = -1
        res = otl_service.getbyotlname(self.otlid, args, num)
        self.assertEqual(res[0], 500)


class Test_delete(TestCase):
    def setUp(self) -> None:
        self.params_json = {'otlids': [80]}

        # mock otl_dao.getbyids
        ret_row = [[80, '2021-11-17 03:44:05', '2021-11-17 03:44:05', '4', '', 'pending', '[]', '[]', '[]', '[]']]
        column = ['id', 'create_time', 'update_time', 'ontology_name', 'ontology_des', 'otl_status', 'entity', 'edge', 'used_task', 'all_task']
        ret = pd.DataFrame(ret_row, columns=column)
        otl_dao.getbyids = mock.Mock(return_value=ret)

        # mock graph_dao.getdsgraphuse_otl
        useds_row = ['[25]', '[64]', '[37]', '[38]', '[39]', '[59]', '[60]', '[61]', '[62]', '[63]', '[66]', '[67]', '[68]', '[69]', '[]', '[70]', '[71]', '[72]', '[73]', '[74]', '[75]', '[76]', '[78]', '[81]', '[82]']
        column = ['graph_otl']
        useds = pd.DataFrame(useds_row, columns=column)
        graph_dao.getdsgraphuse_otl = mock.Mock(return_value=useds)

        # mock otl_dao.delete
        otl_dao.delete = mock.Mock(return_value=0)

        # mock task_dao_onto.get_otl_task_list
        ret_row = [[1, '80', 'test', 'table', '2021-11-16 03:32:59', None, None, None, None, "[['test', 'anydata', 'msql', 'running', 'mysql']]", '9', ''], [2, '80', 'test', 'table', '2021-11-16 03:33:35', None, None, None, None, "[['test', 'anydata', 'msql', 'running', 'mysql']]", '9', '']]
        column = ['task_id', 'ontology_id', 'task_name', 'task_type', 'create_time', 'finished_time', 'task_status', 'celery_task_id', 'result', 'file_list', 'ds_id', 'postfix']
        ret = pd.DataFrame(ret_row, columns=column)
        task_dao_onto.get_otl_task_list = mock.Mock(return_value=ret)

        # mock task_dao_onto.delete_otl_task
        task_dao_onto.delete_otl_task = mock.Mock(return_value=0)

    # success
    def test_delete_success(self):
        res = otl_service.delete(self.params_json)
        self.assertEqual(res[0], 200)

    # 异常
    def test_delete_exception(self):
        otl_dao.getbyids = mock.Mock(return_value=[], self_effect=Exception('database error'))
        res = otl_service.delete(self.params_json)
        self.assertEqual(res[0], 500)

    # id不存在
    def test_delete_idnotexits(self):
        # mock otl_dao.getbyids
        ret_row = []
        column = ['id', 'create_time', 'update_time', 'ontology_name', 'ontology_des', 'otl_status', 'entity', 'edge', 'used_task', 'all_task']
        ret = pd.DataFrame(ret_row, columns=column)
        otl_dao.getbyids = mock.Mock(return_value=ret)

        res = otl_service.delete(self.params_json)
        self.assertEqual(res[0], 500)

    # 本体正在被使用
    def test_delete_otlused(self):
        # mock graph_dao.getdsgraphuse_otl
        useds = ['[25]', '[64]', '[37]', '[38]', '[39]', '[59]', '[60]', '[61]', '[62]', '[63]', '[66]', '[67]', '[68]', '[69]', '[]', '[70]', '[71]', '[72]', '[73]', '[74]', '[75]', '[76]', '[78]', '[80]', '[82]']
        graph_dao.getdsgraphuse_otl = mock.Mock(return_value=useds)

        res = otl_service.delete(self.params_json)
        self.assertEqual(res[0], 500)

    # otl_dao.delete失败
    def test_delete_daofail(self):
        # mock otl_dao.delete
        otl_dao.delete = mock.Mock(return_value=-1)

        res = otl_service.delete(self.params_json)
        self.assertEqual(res[0], 200) # 为何返回正常


# test根据数据源id获取数据表
class Test_showtables(TestCase):
    def setUp(self) -> None:
        self.params_json = {"ds_id": 5, "data_source": "mysql"}

        # mock dsm_dao.getdatabyid数据
        data_mysql_row = [[5, '2021-10-28 21:59:18', '2021-10-28 21:59:18', 'mysql', 'structured', 'mysql', 'root', 'ZWlzb28uY29t', '10.4.107.186', 3320, 'anydata', 'standardExtraction', None]]
        data_as_row = [[5, '2021-10-22 05:11:32', '2021-11-15 02:36:21', '1', 'unstructured', 'as7', None, None, 'https://10.2.174.249', 1443, '123/合同提取测试', 'modelExtraction', '2']]
        data_hive_row = [[5, '2021-10-28 21:59:18', '2021-10-28 21:59:18', 'mysql', 'structured', 'hive', 'root', 'ZWlzb28uY29t', '10.4.107.186', 3320, 'anydata', 'standardExtraction', None]]
        data_null_row = []
        columns = ['id', 'create_time', 'update_time', 'dsname', 'dataType', 'data_source', 'ds_user', 'ds_password', 'ds_address', 'ds_port', 'ds_path', 'extract_type', 'ds_auth']
        self.data_mysql = pd.DataFrame(data_mysql_row, columns=columns)
        self.data_as = pd.DataFrame(data_as_row, columns=columns)
        self.data_hive = pd.DataFrame(data_hive_row, columns=columns)
        self.data_null = pd.DataFrame(data_null_row, columns=columns)
        dsm_dao.getdatabyid = mock.Mock(return_value=self.data_mysql)

        # mock otl_dao.mysqlConnect
        count = 28
        ret = ['access_euop_request', 'author_token', 'data_source_table', 'deleted_service', 'graph_config_table', 'graph_db', 'graph_task_history_table', 'graph_task_table', 'guid', 'knowledge_graph', 'mode', 'msg_record', 'ontology_table', 'ontology_task_table', 'role_web', 'search_config', 'service','sync_service_record', 'test']
        otl_dao.mysqlConnect = mock.Mock(return_value=[count, ret])

        otl_dao.asCon = mock.Mock(return_value=[200, {}])

        otl_dao.hiveConnect = mock.Mock(return_value=[0, []])

    # success
    def test_showtables_success(self):
        # mysql
        res = otl_service.showtables(self.params_json)
        self.assertEqual(res[0], 200)

        # as
        dsm_dao.getdatabyid = mock.Mock(return_value=self.data_as)
        params_json = {"ds_id": 1, "data_source": "as7", "postfix": ""}
        res = otl_service.showtables(params_json)
        self.assertEqual(res[0], 200)

        # hive
        dsm_dao.getdatabyid = mock.Mock(return_value=self.data_hive)
        params_json = {"ds_id": 1, "data_source": "hive"}
        res = otl_service.showtables(params_json)
        self.assertEqual(res[0], 200)

    # 数据库不存在该id
    def test_showtables_DS_NO_EXIST(self):
        # mock dsm_dao.getdatabyid
        dsm_dao.getdatabyid = mock.Mock(return_value=self.data_null)

        res = otl_service.showtables(self.params_json)
        self.assertEqual(res[0], 500)

    # data_source参数与数据库信息不符
    def test_showtables_PARAMETERS_ERROR(self):
        # mock dsm_dao.getdatabyid
        dsm_dao.getdatabyid = mock.Mock(return_value=self.data_mysql)

        params_json = {"ds_id": 5, "data_source": "as7"}
        res = otl_service.showtables(params_json)
        self.assertEqual(res[0], 500)

    # mysql解密密码错误
    def test_showtables_get_mysql_table_false(self):
        count = "-1"
        ret = ['access_euop_request', 'author_token', 'data_source_table', 'deleted_service', 'graph_config_table', 'graph_db', 'graph_task_history_table', 'graph_task_table', 'guid', 'knowledge_graph', 'mode', 'msg_record', 'ontology_table', 'ontology_task_table', 'role_web', 'search_config', 'service','sync_service_record', 'test']
        otl_dao.mysqlConnect = mock.Mock(return_value=[count, ret])

        res = otl_service.showtables(self.params_json)
        self.assertEqual(res[0], 500)

    # exception
    def test_showtables_exception(self):
        # mock otl_dao.mysqlConnect
        otl_dao.mysqlConnect = mock.Mock(side_effect=Exception("Mysql Error"))
        res = otl_service.showtables(self.params_json)
        self.assertEqual(res[0], 500)

    # hive解密密码错误
    def test_showtables_get_hive_table_false(self):
        otl_dao.hiveConnect = mock.Mock(return_value=["-1", []])
        dsm_dao.getdatabyid = mock.Mock(return_value=self.data_hive)
        params_json = {"ds_id": 1, "data_source": "hive"}
        res = otl_service.showtables(params_json)
        self.assertEqual(res[0], 500)


# test获取所有本体id
class Test_getAllOtlIds(TestCase):
    def setUp(self) -> None:
        ret_row = [[73], [39], [52], [37], [56], [99], [27], [35], [82], [90], [54], [86], [57], [28], [88], [76], [72], [58], [29], [84], [89], [66], [65], [71], [95], [83], [63], [79], [78], [96], [69], [92], [97], [30], [85], [34], [98], [68], [75], [60], [87], [25], [38], [51], [62], [61], [94], [70], [24], [59], [91], [26], [67], [33], [36], [55], [64]]
        columns = ['id']
        ret = pd.DataFrame(ret_row, columns=columns)
        otl_dao.getAllOtlId = mock.Mock(return_value=ret)
    
    # success
    def test_getAllOtlIds_success(self):
        res = otl_service.getAllOtlIds()
        self.assertEqual(res[1], 200)
    
    # exception
    def test_getAllOtlIds_exception(self):
        otl_dao.getAllOtlId = mock.Mock(side_effect=Exception("database error"))
        res = otl_service.getAllOtlIds()
        self.assertEqual(res[1], 500)


# test根据本体id查询本体状态
class Test_getOtlStatus(TestCase):
    def setUp(self) -> None:
        df_row = [['available']]
        columns = ['otl_status']
        df = pd.DataFrame(df_row, columns=columns)
        otl_dao.getOtlStatusbyid = mock.Mock(return_value=df)
    
    # success
    def test_getOtlStatus_success(self):
        res = otl_service.getOtlStatus(24)
        self.assertEqual(res[1], 200)
    
    # exception
    def test_getOtlStatus_exception(self):
        otl_dao.getOtlStatusbyid = mock.Mock(side_effect=Exception("database error"))
        res = otl_service.getOtlStatus(24)
        self.assertEqual(res[1], 500)


# test保存复制的本体数据
class Test_saveCopyOtl(TestCase):
    def setUp(self) -> None:
        self.args = {'id': 62,
                     'create_time': '2021-11-03 03:28:34',
                     'update_time': '2021-11-15 02:36:35', 'ontology_name': 'nocontract', 'ontology_des': '',
                     'otl_status': 'available', 'entity': [
                {'entity_id': 1, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '',
                 'ds_id': '', 'extract_type': '', 'name': 'contract', 'source_table': [], 'source_type': 'automatic',
                 'properties': [['name', 'string'], ['id', 'string'], ['number', 'string'], ['currency', 'string'],
                                ['amount', 'string'], ['sign_date', 'string'], ['account_name', 'string'],
                                ['bank', 'string'], ['bank_number', 'string'], ['tax_rate', 'string'],
                                ['tax_amount', 'string'], ['amount_without_tax', 'string']], 'file_type': '',
                 'task_id': '',
                 'properties_index': ['name', 'id', 'number', 'currency', 'amount', 'sign_date', 'account_name', 'bank',
                                      'bank_number', 'tax_rate', 'tax_amount', 'amount_without_tax'],
                 'model': 'Contractmodel', 'ds_address': '', 'alias': '合同'},
                {'entity_id': 2, 'colour': '#448AFF', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '',
                 'ds_id': '', 'extract_type': '', 'name': 'company', 'source_table': [], 'source_type': 'automatic',
                 'properties': [['name', 'string']], 'file_type': '', 'task_id': '', 'properties_index': ['name'],
                 'model': 'Contractmodel', 'ds_address': '', 'alias': '公司或人'},
                {'entity_id': 3, 'colour': '#45639C', 'ds_name': '', 'dataType': '', 'data_source': '', 'ds_path': '',
                 'ds_id': '', 'extract_type': '', 'name': 'clause', 'source_table': [], 'source_type': 'automatic',
                 'properties': [['name', 'string'], ['content', 'string']], 'file_type': '', 'task_id': '',
                 'properties_index': ['name', 'content'], 'model': 'Contractmodel', 'ds_address': '', 'alias': '条款'}],
                     'edge': [{'edge_id': 1, 'colour': '#3E52B5', 'ds_name': '', 'dataType': '', 'data_source': '',
                               'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'contain', 'source_table': [],
                               'source_type': 'automatic', 'properties': [['name', 'string']], 'file_type': '',
                               'task_id': '', 'properties_index': ['name'], 'model': 'Contractmodel',
                               'relations': ['contract', 'contain', 'clause'], 'ds_address': '', 'alias': '包含'},
                              {'edge_id': 2, 'colour': '#E91F64', 'ds_name': '', 'dataType': '', 'data_source': '',
                               'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'ownerSubject',
                               'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']],
                               'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Contractmodel',
                               'relations': ['contract', 'ownerSubject', 'company'], 'ds_address': '', 'alias': '我方主体'},
                              {'edge_id': 3, 'colour': '#0288D1', 'ds_name': '', 'dataType': '', 'data_source': '',
                               'ds_path': '', 'ds_id': '', 'extract_type': '', 'name': 'otherSubject',
                               'source_table': [], 'source_type': 'automatic', 'properties': [['name', 'string']],
                               'file_type': '', 'task_id': '', 'properties_index': ['name'], 'model': 'Contractmodel',
                               'relations': ['contract', 'otherSubject', 'company'], 'ds_address': '',
                               'alias': '对方主体'}], 'used_task': [], 'all_task': []}
        self.params_json = {"ontology_name": "name", "ontology_des": "des"}

        res_row = []
        res_name_exists_row = [['[]', '[]']]
        columns = ['entity', 'edge']
        res = pd.DataFrame(res_row, columns=columns)
        self.res_name_exists = pd.DataFrame(res_name_exists_row, columns=columns)
        otl_dao.get_ontology = mock.Mock(return_value=res)

        otl_dao.insertCopyOtl = mock.Mock(return_value=0)
    
    # success
    def test_saveCopyOtl_success(self):
        res = otl_service.saveCopyOtl(self.args, self.params_json)
        self.assertEqual(res[0], 200)
        
    # exception
    def test_saveCopyOtl_exception(self):
        otl_dao.get_ontology = mock.Mock(side_effect=Exception("database error"))
        res = otl_service.saveCopyOtl(self.args, self.params_json)
        self.assertEqual(res[0], 500)
        
    # 本体名称已存在
    def test_saveCopyOtl_ontology_exist(self):
        otl_dao.get_ontology = mock.Mock(return_value=self.res_name_exists)
        res = otl_service.saveCopyOtl(self.args, self.params_json)
        self.assertEqual(res[0], 500)


class TestPreviewOntology(TestCase):
    def setUp(self) -> None:
        self.params = {"ds_id": 1, "ontologyname": "name"}
        self.row = [["UXdlMTIzIUAj", "mysql", "anydata", "10.4.1.1", 3306, "anydata"]]
        self.column = ["ds_password", "data_source", "ds_user", "ds_address", "ds_port", "ds_path"]

    def test_preview_ontology_success(self):
        """ success """
        dsm_dao.getdatabyid = mock.Mock(return_value=pd.DataFrame(self.row, columns=self.column))
        otl_dao.get_ontology = mock.Mock(return_value=pd.DataFrame([["", ""]], ["entity", "edge"]))
        res = otl_service.preview_ontology(self.params)
        self.assertEqual(res[0], 200)

    def test_preview_ontology_failed1(self):
        """ data_source_table dont have this id """
        dsm_dao.getdatabyid = mock.Mock(return_value=pd.DataFrame([], columns=self.column))
        res = otl_service.preview_ontology(self.params)
        self.assertEqual(res[0], 500)

    def test_preview_ontology_failed2(self):
        """ database error """
        dsm_dao.getdatabyid = mock.Mock(return_value=pd.DataFrame(self.row, columns=self.column))
        otl_dao.get_ontology = mock.Mock(side_effect=Exception("SQL"))
        res = otl_service.preview_ontology(self.params)
        self.assertEqual(res[0], 500)


class TestPreviewData2(TestCase):
    def setUp(self) -> None:
        self.params = {"ds_id": 1, "data_source": "mysql"}
        self.row = [["UXdlMTIzIUAj", "mysql", "anydata", "10.4.1.1", 3306, "anydata", ""]]
        self.column = ["ds_password", "data_source", "ds_user", "ds_address", "ds_port", "ds_path", "ds_auth"]

    def test_preview_data2_mysql_success(self):
        """ data_source is mysql success """
        dsm_dao.getdatabyid = mock.Mock(return_value=pd.DataFrame(self.row, columns=self.column))
        otl_dao.mysqldatashow = mock.Mock(return_value=[])
        res = otl_service.preview_data2(self.params)
        self.assertEqual(res[0], 200)

    def test_preview_data2_mysql_failed1(self):
        """ mysql password decryption failed """
        dsm_dao.getdatabyid = mock.Mock(return_value=pd.DataFrame(self.row, columns=self.column))
        otl_dao.mysqldatashow = mock.Mock(return_value="-1")
        res = otl_service.preview_data2(self.params)
        self.assertEqual(res[0], 500)

    def test_preview_data2_mysql_failed2(self):
        """ mysql exception """
        dsm_dao.getdatabyid = mock.Mock(return_value=pd.DataFrame(self.row, columns=self.column))
        otl_dao.mysqldatashow = mock.Mock(side_effect=Exception("password"))
        res = otl_service.preview_data2(self.params)
        self.assertEqual(res[0], 500)

    def test_preview_data2_hive_success(self):
        """ data_source is hive success """
        dsm_dao.getdatabyid = mock.Mock(
            return_value=pd.DataFrame([["UXdlMTIzIUAj", "hive", "anydata", "10.4.1.1", 3306, "anydata", ""]],
                                      columns=self.column))
        otl_dao.hivedatashow = mock.Mock(return_value="1")
        res = otl_service.preview_data2({"ds_id": 1, "data_source": "hive"})
        self.assertEqual(res[0], 200)

    def test_preview_data2_hive_failed(self):
        """ hive exception """
        dsm_dao.getdatabyid = mock.Mock(
            return_value=pd.DataFrame([["UXdlMTIzIUAj", "hive", "anydata", "10.4.1.1", 3306, "anydata", ""]],
                                      columns=self.column))
        otl_dao.hivedatashow = mock.Mock(side_effect=Exception("Table not found, Database"))
        res = otl_service.preview_data2({"ds_id": 1, "data_source": "hive"})
        self.assertEqual(res[0], 500)

    def test_preview_data2_as_success(self):
        """ data_source is as success """
        dsm_dao.getdatabyid = mock.Mock(
            return_value=pd.DataFrame([["UXdlMTIzIUAj", "as", "anydata", "10.4.1.1", 3306, "anydata", ""]],
                                      columns=self.column))
        otl_dao.asdatashow = mock.Mock(return_value=(200, {}))
        res = otl_service.preview_data2({"ds_id": 1, "data_source": "as"})
        self.assertEqual(res[0], 200)

    def test_preview_data2_failed1(self):
        """ data_source_table dont have this id """
        dsm_dao.getdatabyid = mock.Mock(return_value=pd.DataFrame([], columns=self.column))
        res = otl_service.preview_data2(self.params)
        self.assertEqual(res[0], 500)

    def test_preview_data2_failed2(self):
        """ data_source not equal new_data_source """
        dsm_dao.getdatabyid = mock.Mock(return_value=pd.DataFrame(self.row, columns=self.column))
        res = otl_service.preview_data2({"ds_id": 1, "data_source": "as"})
        self.assertEqual(res[0], 500)


class TestFlatFile(TestCase):
    def setUp(self) -> None:
        self.params = {"file_list": [{"docid": "gns://5B32B75DF1D246E59209BE1C04515587"
                                               "/4932E3A6EFC9476A8549C4D02DE2D40D/667CDDD12E364766B72F8652F624A072",
                                      "name": "cuostomer.csv",
                                      "type": "file"}],
                       "ds_id": 1, "postfix": "csv"
                       }
        self.row = [["UXdlMTIzIUAj", "mysql", "anydata", "10.4.1.1", 3306, "anydata", ""]]
        self.column = ["ds_password", "data_source", "ds_user", "ds_address", "ds_port", "ds_path", "ds_auth"]

    def test_flat_file_success(self):
        """ success """
        dsm_dao.getdatabyid = mock.Mock(return_value=pd.DataFrame(self.row, columns=self.column))
        otl_dao.convertpath = mock.Mock(return_value="a/b/c/d")
        my_mock = mock.Mock(return_value=(
            200, "cqLusY9-z8xtPwKFlVc97skW-fdqJLXzpLQeCRsKzug.M8aU3w8zBj4epqSYSf8netY6JC9XGVQIszh2aHCE1SI"))
        with mock.patch('third_party_service.anyshare.token.asToken.get_token', my_mock):
            res = otl_service.flatfile(self.params)
        self.assertEqual(res[0], 200)

    def test_flat_file_failed1(self):
        """ data_source_table dont have this id """
        dsm_dao.getdatabyid = mock.Mock(return_value=pd.DataFrame([], columns=self.column))
        res = otl_service.flatfile(self.params)
        self.assertEqual(res[0], 500)

    def test_flat_file_failed2(self):
        dsm_dao.getdatabyid = mock.Mock(return_value=pd.DataFrame(self.row, columns=self.column))
        otl_dao.convertpath = mock.Mock(side_effect=Exception("SQL"))
        my_mock = mock.Mock(return_value=(
            200, "cqLusY9-z8xtPwKFlVc97skW-fdqJLXzpLQeCRsKzug.M8aU3w8zBj4epqSYSf8netY6JC9XGVQIszh2aHCE1SI"))
        with mock.patch('third_party_service.anyshare.token.asToken.get_token', my_mock):
            res = otl_service.flatfile(self.params)
        self.assertEqual(res[0], 500)


class TestGetDocName(TestCase):
    def setUp(self) -> None:
        self.row = [["UXdlMTIzIUAj", "mysql", "anydata", "10.4.1.1", 3306, "anydata", ""]]
        self.column = ["ds_password", "data_source", "ds_user", "ds_address", "ds_port", "ds_path", "ds_auth"]

    def test_get_doc_name_success(self):
        """ success """
        dsm_dao.getdatabyid = mock.Mock(return_value=pd.DataFrame(self.row, columns=self.column))
        requests.request = mock.Mock(return_value=MockResponse(200, {"name": "fileName"}))
        my_mock = mock.Mock(return_value=(200, "tokenID"))
        with mock.patch('third_party_service.anyshare.token.asToken.get_token', my_mock):
            res = otl_service.getdocname(1, "docID")
        self.assertEqual(res[0], 200)

    def test_get_doc_name_failed1(self):
        """ dataSourcetable dont have this id """
        dsm_dao.getdatabyid = mock.Mock(return_value=pd.DataFrame([], columns=self.column))
        res = otl_service.getdocname(1, "docID")
        self.assertEqual(res[0], 500)


class TestFilterOtl(TestCase):
    def setUp(self) -> None:
        self.ret_otl = {"res": {"df": [{"entity": [], "edge": []}]}}
        self.row = [[1, "10.4.1.1", "5555", "root", "bmVidWxh", 1, "orientdb", "root", "bmVidWxh", "", "orientdb_255",
                     "", "2022-09-01 14:50:08", 1]]
        self.column = ["id", "ip", "port", "user", "password", "version", "type", "db_user", "db_ps", "db_port", "name",
                       "created", "updated", "fulltext_id"]

    def test_filter_otl_success(self):
        """ success """
        graph_dao.get_configid_by_kgid = mock.Mock(return_value=pd.DataFrame([[1]], columns=["KG_config_id"]))
        graph_dao.getbyid = mock.Mock(return_value=pd.DataFrame([["[{'graph_Name': 'test123', 'graph_des': 'Ad', "
                                                                  "'graph_db_id': 1, 'graphDBAddress': "
                                                                  "'10.4.106.255', 'graph_mongo_Name': 'mongoDB-1', "
                                                                  "'graph_DBName': "
                                                                  "'u1040b0bc239011ed8fa50242ac110002'}]"]],
                                                                columns=["graph_baseInfo"]))
        task_dao.getGraphDBbyId = mock.Mock(return_value=pd.DataFrame(self.row, columns=self.column))
        my_mock = mock.Mock(return_value=(200, {"entity": "", "edge": ""}))
        with mock.patch('dao.graphdb_dao.GraphDB.get_schema', my_mock):
            res = otl_service.filterotl(1, self.ret_otl)
        self.assertEqual(res[0], 200)

    def test_filter_otl_failed(self):
        """ kgid not exist """
        graph_dao.get_configid_by_kgid = mock.Mock(return_value=pd.DataFrame([], columns=["KG_config_id"]))
        res = otl_service.filterotl(1, self.ret_otl)
        self.assertEqual(res[0], 500)




